<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0064)https://www.interviewcake.com/question/javascript/url-shortener? -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" class=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script type="text/javascript" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/track"></script><script type="text/javascript" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/track(1)"></script><script type="text/javascript" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/track(2)"></script><script type="text/javascript" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/track(3)"></script><script type="text/javascript" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/track(4)"></script><script type="text/javascript" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/track(5)"></script><script type="text/javascript" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/track(6)"></script><script type="text/javascript" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/track(7)"></script><script type="text/javascript" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/track(8)"></script><script type="text/javascript" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/track(9)"></script><script type="text/javascript" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/track(10)"></script><script type="text/javascript" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/track(11)"></script><script type="text/javascript" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/track(12)"></script><script type="text/javascript" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/track(13)"></script><script type="text/javascript" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/9e57878e2e"></script><script src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/nr-1071.min.js"></script><script type="text/javascript" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/track(14)"></script><script type="text/javascript" async="" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/linkid.js"></script><script type="text/javascript" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/identify"></script><style type="text/css">@charset "UTF-8";[ng\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\:form{display:block;}</style>
    <script type="text/javascript" async="" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/prum.min.js"></script><script type="text/javascript" async="" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/0722.js"></script><script type="text/javascript" async="" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/0751fb0485a5b0be210d27b9cefd9842c5c65cc6.2.js"></script><script type="text/javascript" async="" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/analytics.js"></script><script type="text/javascript" async="" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/mixpanel-2-latest.min.js"></script><script type="text/javascript" async="" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/conversion_async.js"></script><script type="text/javascript" async="" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/4774384.js"></script><script src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/1178582795523615" async=""></script><script type="text/javascript" async="" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/fbevents.js"></script><script type="text/javascript" async="" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/heap-3172685410.js"></script><script id="facebook-jssdk" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/all.js"></script><script type="text/javascript" async="" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/analytics.min.js"></script><script type="text/javascript">
        
        window.IC = window.IC || {};
        window.IC.currentUser = JSON.parse('{\u0022id\u0022:7272651,\u0022username\u0022:\u0022lara.harrow\u0022,\u0022email\u0022:\u0022lara.harrow@gmail.com\u0022,\u0022date_joined\u0022:\u00222018\u002D01\u002D29T18:53:30.863677+00:00\u0022,\u0022first_name\u0022:\u0022Lara\u0022,\u0022last_name\u0022:\u0022Harrow\u0022,\u0022full_name\u0022:\u0022Lara Harrow\u0022,\u0022short_name\u0022:\u0022Lara\u0022,\u0022is_anonymous\u0022:false,\u0022is_on_last_question\u0022:false,\u0022percent_done\u0022:0,\u0022num_questions_done\u0022:0,\u0022num_questions_remaining\u0022:46,\u0022recruiting_is_interested_in_intros\u0022:null,\u0022is_full_access\u0022:true,\u0022first_payment_date\u0022:\u00222018\u002D02\u002D01T16:10:22.494366Z\u0022,\u0022last_payment_date\u0022:\u00222018\u002D02\u002D01T16:10:22.494366Z\u0022,\u0022num_free_questions_left\u0022:0,\u0022terms_has_agreed_to_latest\u0022:false,\u0022preferred_content_language\u0022:\u0022javascript\u0022,\u0022preferred_editor_language\u0022:\u0022\u0022,\u0022is_staff\u0022:false,\u0022auth_providers_human_readable_list\u0022:\u0022Google\u0022,\u0022num_auth_providers\u0022:1,\u0022auth_email\u0022:\u0022lara.harrow@gmail.com\u0022,\u0022profile_public_id\u0022:null}');
        
    </script>

    
        <script src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/1358232165.js"></script>
    

    
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta http-equiv="X-UA-Compatible" content="IE=Edge"><script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(e,t,n){function r(n){if(!t[n]){var o=t[n]={exports:{}};e[n][0].call(o.exports,function(t){var o=e[n][1][t];return r(o||t)},o,o.exports)}return t[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,n){function r(){}function o(e,t,n){return function(){return i(e,[f.now()].concat(u(arguments)),t?null:this,n),t?void 0:this}}var i=e("handle"),a=e(2),u=e(3),c=e("ee").get("tracer"),f=e("loader"),s=NREUM;"undefined"==typeof window.newrelic&&(newrelic=s);var p=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],d="api-",l=d+"ixn-";a(p,function(e,t){s[t]=o(d+t,!0,"api")}),s.addPageAction=o(d+"addPageAction",!0),s.setCurrentRouteName=o(d+"routeName",!0),t.exports=newrelic,s.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(e,t){var n={},r=this,o="function"==typeof t;return i(l+"tracer",[f.now(),e,n],r),function(){if(c.emit((o?"":"no-")+"fn-start",[f.now(),r,o],n),o)try{return t.apply(this,arguments)}catch(e){throw c.emit("fn-err",[arguments,this,e],n),e}finally{c.emit("fn-end",[f.now()],n)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(e,t){m[t]=o(l+t)}),newrelic.noticeError=function(e){"string"==typeof e&&(e=new Error(e)),i("err",[e,f.now()])}},{}],2:[function(e,t,n){function r(e,t){var n=[],r="",i=0;for(r in e)o.call(e,r)&&(n[i]=t(r,e[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],3:[function(e,t,n){function r(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,o=n-t||0,i=Array(o<0?0:o);++r<o;)i[r]=e[t+r];return i}t.exports=r},{}],4:[function(e,t,n){t.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(e,t,n){function r(){}function o(e){function t(e){return e&&e instanceof r?e:e?c(e,u,i):i()}function n(n,r,o,i){if(!d.aborted||i){e&&e(n,r,o);for(var a=t(o),u=m(n),c=u.length,f=0;f<c;f++)u[f].apply(a,r);var p=s[y[n]];return p&&p.push([b,n,r,a]),a}}function l(e,t){v[e]=m(e).concat(t)}function m(e){return v[e]||[]}function w(e){return p[e]=p[e]||o(n)}function g(e,t){f(e,function(e,n){t=t||"feature",y[n]=t,t in s||(s[t]=[])})}var v={},y={},b={on:l,emit:n,get:w,listeners:m,context:t,buffer:g,abort:a,aborted:!1};return b}function i(){return new r}function a(){(s.api||s.feature)&&(d.aborted=!0,s=d.backlog={})}var u="nr@context",c=e("gos"),f=e(2),s={},p={},d=t.exports=o();d.backlog=s},{}],gos:[function(e,t,n){function r(e,t,n){if(o.call(e,t))return e[t];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return e[t]=r,r}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],handle:[function(e,t,n){function r(e,t,n,r){o.buffer([e],r),o.emit(e,t,n)}var o=e("ee").get("handle");t.exports=r,r.ee=o},{}],id:[function(e,t,n){function r(e){var t=typeof e;return!e||"object"!==t&&"function"!==t?-1:e===window?0:a(e,i,function(){return o++})}var o=1,i="nr@id",a=e("gos");t.exports=r},{}],loader:[function(e,t,n){function r(){if(!x++){var e=h.info=NREUM.info,t=d.getElementsByTagName("script")[0];if(setTimeout(s.abort,3e4),!(e&&e.licenseKey&&e.applicationID&&t))return s.abort();f(y,function(t,n){e[t]||(e[t]=n)}),c("mark",["onload",a()+h.offset],null,"api");var n=d.createElement("script");n.src="https://"+e.agent,t.parentNode.insertBefore(n,t)}}function o(){"complete"===d.readyState&&i()}function i(){c("mark",["domContent",a()+h.offset],null,"api")}function a(){return E.exists&&performance.now?Math.round(performance.now()):(u=Math.max((new Date).getTime(),u))-h.offset}var u=(new Date).getTime(),c=e("handle"),f=e(2),s=e("ee"),p=window,d=p.document,l="addEventListener",m="attachEvent",w=p.XMLHttpRequest,g=w&&w.prototype;NREUM.o={ST:setTimeout,SI:p.setImmediate,CT:clearTimeout,XHR:w,REQ:p.Request,EV:p.Event,PR:p.Promise,MO:p.MutationObserver};var v=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1071.min.js"},b=w&&g&&g[l]&&!/CriOS/.test(navigator.userAgent),h=t.exports={offset:u,now:a,origin:v,features:{},xhrWrappable:b};e(1),d[l]?(d[l]("DOMContentLoaded",i,!1),p[l]("load",r,!1)):(d[m]("onreadystatechange",o),p[m]("onload",r)),c("mark",["firstbyte",u],null,"api");var x=0,E=e(4)},{}]},{},["loader"]);</script><script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"licenseKey":"9e57878e2e","beacon":"bam.nr-data.net","queueTime":7,"applicationID":"7328113","errorBeacon":"bam.nr-data.net","transactionName":"ZVwAbEQCDUQCAUwKDFwWJE1YABdeDAwXDhpBUBZdGA4CXg0DSBNNRFAHT0VZMkIGEUwKDFxvC11BTQRSFw==","applicationTime":113,"agent":""}</script>
        <link rel="shortcut icon" type="image/x-icon" href="https://www.interviewcake.com/images/favicon.ico?bust=164">
        <link rel="canonical" href="https://www.interviewcake.com/question/java/url-shortener">
        <meta name="description" content="Design a URL shortener, like bit.ly">

        <meta property="og:title" content="URL Shortener (Practice Interview Question) | Interview Cake">
        <meta property="og:description" content="Design a URL shortener, like bit.ly">
        <meta property="og:image" content="https://www.interviewcake.com/static/images/cake_white_on_blue_600_600_unrounded.png">
        <meta property="og:type" content="website">
        <meta property="og:locale" content="en_US">
        <meta property="og:site_name" content="Interview Cake: Programming Interview Questions and Tips">
        <meta property="fb:app_id" content="149278655279066">
        <meta property="fb:admins" content="514407734">
        <meta property="og:url" content="https://www.interviewcake.com/question/java/url-shortener">

        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="@interviewcake">
        <meta name="twitter:title" content="URL Shortener (Practice Interview Question) | Interview Cake">
        <meta name="twitter:description" content="Design a URL shortener, like bit.ly">
        <meta name="twitter:creator" content="@interviewcake">
        <meta name="twitter:image:src" content="https://www.interviewcake.com/static/images/cake_white_on_blue_600_600_unrounded.png">
        <meta name="twitter:domain" content="interviewcake.com">
        <meta name="format-detection" content="telephone=no">

        <title>URL Shortener (Practice Interview Question) | Interview Cake</title>
    

    

    
        <script type="text/javascript">
            window.analytics||(window.analytics=[]),window.analytics.methods=["identify","track","trackLink","trackForm","trackClick","trackSubmit","page","pageview","ab","alias","ready","group","on","once","off"],window.analytics.factory=function(a){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(a),window.analytics.push(t),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var method=window.analytics.methods[i];window.analytics[method]=window.analytics.factory(method)}window.analytics.load=function(a){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://":"http://")+"d2dq2ahtl5zl1z.cloudfront.net/analytics.js/v1/"+a+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)},window.analytics.SNIPPET_VERSION="2.0.6",
            window.analytics.load("rowk0wc1g6"),
            window.analytics.page();
        </script>
    

    

    

    
        <link href="./URL Shortener (Practice Interview Question) _ Interview Cake_files/bootstrap.min.css" rel="stylesheet">
        <link href="./URL Shortener (Practice Interview Question) _ Interview Cake_files/bootstrap-glyphicons.css" rel="stylesheet">
        <link href="./URL Shortener (Practice Interview Question) _ Interview Cake_files/font-awesome.min.css" rel="stylesheet">
        <link href="./URL Shortener (Practice Interview Question) _ Interview Cake_files/katex.min.css" rel="stylesheet">
    

    

    
        <link rel="stylesheet" href="./URL Shortener (Practice Interview Question) _ Interview Cake_files/500f5e2ec23f.css" type="text/css" media="all">
        
    

    

    <link href="./URL Shortener (Practice Interview Question) _ Interview Cake_files/css" rel="stylesheet" type="text/css">

    

    <link rel="apple-touch-icon" href="https://www.interviewcake.com/images/cake_white_on_blue_128_128_unrounded.png">

    

    <meta name="50fc73d52056532c18787976ceb78fddb87b78b2" content="ceb4cec06fc4a780c7b31b85c07cf75d1ca58d9d">

    
    
    

    <script type="text/javascript">
        var _vwo_code=(function(){
        var account_id=50155,
        settings_tolerance=2000,
        library_tolerance=2500,
        use_existing_jquery=false,
        // DO NOT EDIT BELOW THIS LINE
        f=false,d=document;return{use_existing_jquery:function(){return use_existing_jquery;},library_tolerance:function(){return library_tolerance;},finish:function(){if(!f){f=true;var a=d.getElementById('_vis_opt_path_hides');if(a)a.parentNode.removeChild(a);}},finished:function(){return f;},load:function(a){var b=d.createElement('script');b.src=a;b.type='text/javascript';b.innerText;b.onerror=function(){_vwo_code.finish();};d.getElementsByTagName('head')[0].appendChild(b);},init:function(){settings_timer=setTimeout('_vwo_code.finish()',settings_tolerance);var a=d.createElement('style'),b='body{opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important;}',h=d.getElementsByTagName('head')[0];a.setAttribute('id','_vis_opt_path_hides');a.setAttribute('type','text/css');if(a.styleSheet)a.styleSheet.cssText=b;else a.appendChild(d.createTextNode(b));h.appendChild(a);this.load('//dev.visualwebsiteoptimizer.com/j.php?a='+account_id+'&u='+encodeURIComponent(d.URL)+'&r='+Math.random());return settings_timer;}};}());_vwo_settings_timer=_vwo_code.init();
    </script><script src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/j.php" type="text/javascript"></script>
<style id="ace_editor.css">.ace_editor {position: relative;overflow: hidden;font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: '';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_text-input-ios {position: absolute !important;top: -100000px !important;left: -100000px !important;}
/*# sourceURL=ace/css/ace_editor.css */</style><style id="ace-tm">.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}
/*# sourceURL=ace/css/ace-tm */</style><style>    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }</style><style>.ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}</style><style>.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);}.ace_editor.ace_autocomplete .ace_line-hover {    position: absolute;    z-index: 2;}.ace_editor.ace_autocomplete .ace_scroller {   background: none;   border: none;   box-shadow: none;}.ace_rightAlignedText {    color: gray;    display: inline-block;    position: absolute;    right: 4px;    text-align: right;    z-index: -1;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #000;    text-shadow: 0 0 0.01em;}.ace_editor.ace_autocomplete {    width: 280px;    z-index: 200000;    background: #fbfbfb;    color: #444;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;}</style><script src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/theme-monokai.js"></script><script src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/mode-python.js"></script><style id="ace-monokai">.ace-monokai .ace_gutter {background: #2F3129;color: #8F908A}.ace-monokai .ace_print-margin {width: 1px;background: #555651}.ace-monokai {background-color: #272822;color: #F8F8F2}.ace-monokai .ace_cursor {color: #F8F8F0}.ace-monokai .ace_marker-layer .ace_selection {background: #49483E}.ace-monokai.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #272822;}.ace-monokai .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-monokai .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #49483E}.ace-monokai .ace_marker-layer .ace_active-line {background: #202020}.ace-monokai .ace_gutter-active-line {background-color: #272727}.ace-monokai .ace_marker-layer .ace_selected-word {border: 1px solid #49483E}.ace-monokai .ace_invisible {color: #52524d}.ace-monokai .ace_entity.ace_name.ace_tag,.ace-monokai .ace_keyword,.ace-monokai .ace_meta.ace_tag,.ace-monokai .ace_storage {color: #F92672}.ace-monokai .ace_punctuation,.ace-monokai .ace_punctuation.ace_tag {color: #fff}.ace-monokai .ace_constant.ace_character,.ace-monokai .ace_constant.ace_language,.ace-monokai .ace_constant.ace_numeric,.ace-monokai .ace_constant.ace_other {color: #AE81FF}.ace-monokai .ace_invalid {color: #F8F8F0;background-color: #F92672}.ace-monokai .ace_invalid.ace_deprecated {color: #F8F8F0;background-color: #AE81FF}.ace-monokai .ace_support.ace_constant,.ace-monokai .ace_support.ace_function {color: #66D9EF}.ace-monokai .ace_fold {background-color: #A6E22E;border-color: #F8F8F2}.ace-monokai .ace_storage.ace_type,.ace-monokai .ace_support.ace_class,.ace-monokai .ace_support.ace_type {font-style: italic;color: #66D9EF}.ace-monokai .ace_entity.ace_name.ace_function,.ace-monokai .ace_entity.ace_other,.ace-monokai .ace_entity.ace_other.ace_attribute-name,.ace-monokai .ace_variable {color: #A6E22E}.ace-monokai .ace_variable.ace_parameter {font-style: italic;color: #FD971F}.ace-monokai .ace_string {color: #E6DB74}.ace-monokai .ace_comment {color: #75715E}.ace-monokai .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y}
/*# sourceURL=ace/css/ace-monokai */</style><script src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/saved_resource"></script><script src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/saved_resource(1)"></script><style data-olark="true" type="text/css">.olark-key,#hbl_code,#olark-data{display: none !important;}</style><style data-olark="true" type="text/css">@media print {#habla_beta_container_do_not_rely_on_div_classes_or_names {display: none !important}}</style><style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}.fb_link img{border:none}@keyframes fb_transform{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_reset .fb_dialog_legacy{overflow:visible}.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}.fb_dialog_content{background:#fff;color:#333}.fb_dialog_close_icon{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent}.fb_dialog_close_icon:active{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent}.fb_dialog_loader{background-color:#f6f7f9;border:1px solid #606060;font-size:24px;padding:20px}.fb_dialog_top_left,.fb_dialog_top_right,.fb_dialog_bottom_left,.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}.fb_dialog_top_left{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}.fb_dialog_top_right{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}.fb_dialog_bottom_left{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}.fb_dialog_bottom_right{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}.fb_dialog_vert_left,.fb_dialog_vert_right,.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}.fb_dialog_vert_left,.fb_dialog_vert_right{width:10px;height:100%}.fb_dialog_vert_left{margin-left:-10px}.fb_dialog_vert_right{right:0;margin-right:-10px}.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{width:100%;height:10px}.fb_dialog_horiz_top{margin-top:-10px}.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #365899;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{width:auto;height:auto;min-height:initial;min-width:initial;background:none}.fb_dialog.fb_dialog_mobile.loading.centered #fb_dialog_loader_spinner{width:100%}.fb_dialog.fb_dialog_mobile.loading.centered .fb_dialog_content{background:none}.loading.centered #fb_dialog_loader_close{color:#fff;display:block;padding-top:20px;clear:both;font-size:18px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;bottom:0;left:0;right:0;top:0;width:100%;min-height:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6), color-stop(.5, #355492), to(#2A4887));border:1px solid #29487d;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset, rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f6f7f9;border:1px solid #555;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}#fb_dialog_loader_spinner{animation:rotateSpinner 1.2s linear infinite;background-color:transparent;background-image:url(https://static.xx.fbcdn.net/rsrc.php/v3/yD/r/t-wz8gw1xG1.png);background-repeat:no-repeat;background-position:50% 50%;height:24px;width:24px}@keyframes rotateSpinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_hide_iframes iframe{position:relative;left:-10000px}.fb_iframe_widget_loader{position:relative;display:inline-block}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}.fb_iframe_widget_loader .FB_Loader{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}
.fb_customer_chat_bounce_in{animation-duration:250ms;animation-name:fb_bounce_in}.fb_customer_chat_bounce_out{animation-duration:250ms;animation-name:fb_fade_out}.fb_invisible_flow{display:inherit;height:0;overflow-x:hidden;width:0}.fb_mobile_overlay_active{height:100%;overflow:hidden;position:fixed;width:100%}@keyframes fb_fade_out{from{opacity:1}to{opacity:0}}@keyframes fb_bounce_in{0%{opacity:0;transform:scale(.8, .8);transform-origin:100% 100%}10%{opacity:.1}20%{opacity:.2}30%{opacity:.3}40%{opacity:.4}50%{opacity:.5}60%{opacity:.6}70%{opacity:.7}80%{opacity:.8;transform:scale(1.03, 1.03)}90{opacity:.9}100%{opacity:1;transform:scale(1, 1)}}</style><link data-olark="true" rel="stylesheet" href="./URL Shortener (Practice Interview Question) _ Interview Cake_files/theme.css" type="text/css"></head>

<body ng-app="prepApp" ng-init="questionIsEmbedded = false" class="user-is-full-access                                      ng-scope" style=""><div id="olark" style="display: none;"><olark><iframe frameborder="0" id="olark-loader" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/saved_resource.html"></iframe></olark></div>

<div class="ic-alerts">
    
    
</div>

<select id="select-language-content-width-hack" style="display: none;">
    <option value="">JavaScript</option>
</select>



<div class="panel-wrapper ng-scope" ng-controller="PanelWrapperCtrl">
<div class="left-panel scrolling-body" ng-class="{
        &#39;editor-open-or-opening&#39;: editorOpenOrOpening,
        &#39;editor-opening-or-closing&#39;: editorOpeningOrClosing,
        &#39;editor-open-or-partly-open&#39;: editorOpenOrPartlyOpen,
     }">



    
<div class="print-header navbar-print-header navbar navbar-inverse">
    <div class="navbar-header">
        <span class="navbar-brand">
            <img src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/cake_white_20_21.png" class="logo">
            Interview Cake
        </span>
    </div>
</div>




    <div class="navbar navbar-normal navbar-inverse ng-scope" role="navigation" ng-controller="HeaderCtrl" language="javascript">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://www.interviewcake.com/">
                Interview Cake
            </a>
        </div>

        <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav navbar-left">
                
                <li>
                    <a href="https://www.interviewcake.com/coding-interview-tips">Tips and Tricks</a>
                </li>
                

                <li class="dropdown">
                    <a href="https://www.interviewcake.com/question/javascript/url-shortener?" class="dropdown-toggle" data-toggle="dropdown" rel="nofollow">
                        Glossary <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu" role="menu">
                        <li>
    <a href="https://www.interviewcake.com/big-o-notation-time-and-space-complexity">Big O Notation: <span complexity="n" class="ng-isolate-scope"><span class="complexity"><span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>n</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.75em;"></span><span class="strut bottom" style="height: 1em; vertical-align: -0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord mathit">n</span><span class="mclose">)</span></span></span></span></span></span></span>, <span complexity="n^2" class="ng-isolate-scope"><span class="complexity"><span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><msup><mi>n</mi><mn>2</mn></msup><mo>)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.814108em;"></span><span class="strut bottom" style="height: 1.06411em; vertical-align: -0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathit">n</span><span class="vlist"><span class="" style="top: -0.363em; margin-right: 0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord">2</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span>​</span></span></span><span class="mclose">)</span></span></span></span></span></span></span>, etc</a>
</li>
<li>
    <a href="https://www.interviewcake.com/article/logarithms">Logarithms</a>
</li>
<li>
    <a href="https://www.interviewcake.com/concept/triangular-series">Triangular Series</a>
</li>

<li role="separator" class="divider"></li>

<li>
    <a href="https://www.interviewcake.com/concept/binary-search">Binary Search</a>
</li>
<li>
    <a href="https://www.interviewcake.com/concept/bfs">Breadth-First Search</a>
</li>
<li>
    <a href="https://www.interviewcake.com/concept/dfs">Depth-First Search</a>
</li>
<li>
    <a href="https://www.interviewcake.com/concept/counting-sort">Counting Sort</a>
</li>

<li role="separator" class="divider"></li>

<li>
    <a href="https://www.interviewcake.com/concept/overlapping-subproblems">Overlapping Subproblems</a>
</li>
<li>
    <a href="https://www.interviewcake.com/concept/memoization">Memoization</a>
</li>
<li>
    <a href="https://www.interviewcake.com/concept/bottom-up">Bottom-Up Algorithms</a>
</li>

<li role="separator" class="divider"></li>

<li>
    <a href="https://www.interviewcake.com/concept/short-circuit-evaluation">Short Circuit Evaluation</a>
</li>
<li>
    <a href="https://www.interviewcake.com/concept/garbage-collection">Garbage Collection</a>
</li>
<li>
    <a href="https://www.interviewcake.com/concept/js-closure">Closure</a>
</li>
<li>
    <a href="https://www.interviewcake.com/concept/slice">Array Slicing</a>
</li>
<li>
    <a href="https://www.interviewcake.com/concept/hashing">Hashing</a>
</li>
<li>
    <a href="https://www.interviewcake.com/concept/mutable">Mutable vs Immutable</a>
</li>
<li>
    <a href="https://www.interviewcake.com/concept/in-place">In-Place Operation</a>
</li>

<li role="separator" class="divider"></li>

<li>
    <a href="https://www.interviewcake.com/article/data-structures-computer-science">Data Structures Overview</a>
</li>

<li>
    <a href="https://www.interviewcake.com/concept/array">Array</a>
</li>
<li>
    <a href="https://www.interviewcake.com/concept/dynamic-array-amortized-analysis">Dynamic Array</a>
</li>
<li>
    <a href="https://www.interviewcake.com/concept/hash-map">Hash Table</a>
</li>
<li>
    <a href="https://www.interviewcake.com/concept/linked-list">Linked List</a>
</li>
<li>
    <a href="https://www.interviewcake.com/concept/queue">Queue</a>
</li>
<li>
    <a href="https://www.interviewcake.com/concept/stack">Stack</a>
</li>
<li>
    <a href="https://www.interviewcake.com/concept/binary-tree">Binary Tree</a>
</li>
<li>
    <a href="https://www.interviewcake.com/concept/graph">Graph</a>
</li>

<li role="separator" class="divider"></li>

<li>
    <a href="https://www.interviewcake.com/concept/binary-numbers">Binary Numbers</a>
</li>
<li>
    <a href="https://www.interviewcake.com/concept/and">Bitwise AND</a>
</li>
<li>
    <a href="https://www.interviewcake.com/concept/or">Bitwise OR</a>
</li>
<li>
    <a href="https://www.interviewcake.com/concept/xor">Bitwise XOR</a>
</li>
<li>
    <a href="https://www.interviewcake.com/concept/not">Bitwise NOT</a>
</li>
<li>
    <a href="https://www.interviewcake.com/concept/bit-shift">Bit Shifting</a>
</li>
<li>
    <a href="https://www.interviewcake.com/concept/integer-overflow">Integer Overflow</a>
</li>

                    </ul>
                </li>

                <li>
                    <a href="https://www.interviewcake.com/all-questions/javascript">All Questions</a>
                </li>
            </ul>

            <ul class="nav navbar-nav navbar-right" ng-show="currentUserSet">

                <li>
                    

                    <a class="upgrade ng-hide" ng-hide="currentUser.is_full_access" href="https://www.interviewcake.com/upgrade">
                        Get the full course
                        <span class="glyphicon glyphicon-chevron-right full-access-badge"></span>
                    </a>
                </li>

                
                    <li class="dropdown language-dropdown ng-scope" ng-controller="NavbarTranslationCtrl" ng-show="contentLanguage &amp;&amp; currentUser.is_full_access">
                        <a rel="nofollow" href="https://www.interviewcake.com/question/javascript/url-shortener?" class="dropdown-toggle" data-toggle="dropdown">
                            <span ng-bind="contentLanguage.display_name" class="ng-binding">JavaScript</span> <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu" role="menu">
                            <!-- ngRepeat: language in contentLanguages | orderBy: 'display_name' --><li ng-repeat="language in contentLanguages | orderBy: &#39;display_name&#39;" class="ng-scope">
                                <a href="https://www.interviewcake.com/question/javascript/url-shortener?" ng-click="updateLanguage(language, true)" ng-bind="::language.display_name" class="ng-binding">C</a>
                            </li><!-- end ngRepeat: language in contentLanguages | orderBy: 'display_name' --><li ng-repeat="language in contentLanguages | orderBy: &#39;display_name&#39;" class="ng-scope">
                                <a href="https://www.interviewcake.com/question/javascript/url-shortener?" ng-click="updateLanguage(language, true)" ng-bind="::language.display_name" class="ng-binding">C#</a>
                            </li><!-- end ngRepeat: language in contentLanguages | orderBy: 'display_name' --><li ng-repeat="language in contentLanguages | orderBy: &#39;display_name&#39;" class="ng-scope">
                                <a href="https://www.interviewcake.com/question/javascript/url-shortener?" ng-click="updateLanguage(language, true)" ng-bind="::language.display_name" class="ng-binding">C++</a>
                            </li><!-- end ngRepeat: language in contentLanguages | orderBy: 'display_name' --><li ng-repeat="language in contentLanguages | orderBy: &#39;display_name&#39;" class="ng-scope">
                                <a href="https://www.interviewcake.com/question/javascript/url-shortener?" ng-click="updateLanguage(language, true)" ng-bind="::language.display_name" class="ng-binding">Java</a>
                            </li><!-- end ngRepeat: language in contentLanguages | orderBy: 'display_name' --><li ng-repeat="language in contentLanguages | orderBy: &#39;display_name&#39;" class="ng-scope">
                                <a href="https://www.interviewcake.com/question/javascript/url-shortener?" ng-click="updateLanguage(language, true)" ng-bind="::language.display_name" class="ng-binding">JavaScript</a>
                            </li><!-- end ngRepeat: language in contentLanguages | orderBy: 'display_name' --><li ng-repeat="language in contentLanguages | orderBy: &#39;display_name&#39;" class="ng-scope">
                                <a href="https://www.interviewcake.com/question/javascript/url-shortener?" ng-click="updateLanguage(language, true)" ng-bind="::language.display_name" class="ng-binding">Objective-C</a>
                            </li><!-- end ngRepeat: language in contentLanguages | orderBy: 'display_name' --><li ng-repeat="language in contentLanguages | orderBy: &#39;display_name&#39;" class="ng-scope">
                                <a href="https://www.interviewcake.com/question/javascript/url-shortener?" ng-click="updateLanguage(language, true)" ng-bind="::language.display_name" class="ng-binding">PHP</a>
                            </li><!-- end ngRepeat: language in contentLanguages | orderBy: 'display_name' --><li ng-repeat="language in contentLanguages | orderBy: &#39;display_name&#39;" class="ng-scope">
                                <a href="https://www.interviewcake.com/question/javascript/url-shortener?" ng-click="updateLanguage(language, true)" ng-bind="::language.display_name" class="ng-binding">Python</a>
                            </li><!-- end ngRepeat: language in contentLanguages | orderBy: 'display_name' --><li ng-repeat="language in contentLanguages | orderBy: &#39;display_name&#39;" class="ng-scope">
                                <a href="https://www.interviewcake.com/question/javascript/url-shortener?" ng-click="updateLanguage(language, true)" ng-bind="::language.display_name" class="ng-binding">Ruby</a>
                            </li><!-- end ngRepeat: language in contentLanguages | orderBy: 'display_name' --><li ng-repeat="language in contentLanguages | orderBy: &#39;display_name&#39;" class="ng-scope">
                                <a href="https://www.interviewcake.com/question/javascript/url-shortener?" ng-click="updateLanguage(language, true)" ng-bind="::language.display_name" class="ng-binding">Swift</a>
                            </li><!-- end ngRepeat: language in contentLanguages | orderBy: 'display_name' -->
                        </ul>
                    </li>
                

                
                    <li>
                        <p class="navbar-text">
                            
                            'sup <a rel="nofollow" tracklink="" the-event="Settings Link Click" href="https://www.interviewcake.com/account" class="ng-isolate-scope">Lara</a>.
                            
                            <span ng-show="currentUser.is_full_access" class="glyphicon glyphicon-star full-access-badge"></span>
                        </p>
                    </li>
                    <li ng-hide="currentUser.is_anonymous">
                        <a rel="nofollow" ng-click="logoutClick($event)" tracklink="" the-event="Logout Link Click" the-properties="{&quot;which&quot; : &quot;header top right&quot;}" href="https://www.interviewcake.com/question/javascript/url-shortener?" class="ng-isolate-scope">Log out</a>
                    </li>
                    <li ng-show="currentUser.is_anonymous" class="ng-hide">
                        <a href="https://www.interviewcake.com/question/javascript/url-shortener?" rel="nofollow" ng-click="loginClick(&#39;header top right&#39;)">Log in to save progress</a>
                    </li>
                
            </ul>
        </div>
    </div>




    <div class="below-nav">

        

        
        

<div class="quiz ng-scope" ng-controller="PrepSeshApp">
    
        

<div ng-controller="NumberlineCtrl" class="numberline-wrapper  user-is-full-access ng-scope">

    <section ng-controller="NumberlineScrollingCtrl" class="numberline-scrolling ng-scope" ngc-scroll="setEdgeFadeIntensity()">
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/stock-price" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Apple Stocks">
    

            <span class="number">
                1
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/product-of-other-numbers" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Product of All Other Numbers">
    

            <span class="number">
                2
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/highest-product-of-3" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Highest Product of 3">
    

            <span class="number">
                3
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/merging-ranges" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Merging Meeting Times">
    

            <span class="number">
                4
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/coin" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Making Change">
    

            <span class="number">
                5
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/rectangular-love" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Rectangular Love">
    

            <span class="number">
                6
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/temperature-tracker" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Temperature Tracker">
    

            <span class="number">
                7
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/balanced-binary-tree" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Balanced Binary Tree">
    

            <span class="number">
                8
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/bst-checker" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Binary Search Tree Checker">
    

            <span class="number">
                9
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/second-largest-item-in-bst" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="2nd Largest Item in a Binary Search Tree">
    

            <span class="number">
                10
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/compress-url-list" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="MillionGazillion">
    

            <span class="number">
                11
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/find-in-ordered-set" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Find in Ordered Set">
    

            <span class="number">
                12
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/find-rotation-point" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Find Rotation Point">
    

            <span class="number">
                13
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/inflight-entertainment" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Inflight Entertainment">
    

            <span class="number">
                14
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/nth-fibonacci" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Compute nth Fibonacci Number">
    

            <span class="number">
                15
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/cake-thief" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="The Cake Thief">
    

            <span class="number">
                16
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/js-scope" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="JavaScript Scope">
    

            <span class="number">
                17
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/js-whats-wrong" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="What&#39;s Wrong with This JavaScript?">
    

            <span class="number">
                18
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/queue-two-stacks" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Implement A Queue With Two Stacks">
    

            <span class="number">
                19
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/largest-stack" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Largest Stack">
    

            <span class="number">
                20
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/find-unique-int-among-duplicates" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="The Stolen Breakfast Drone">
    

            <span class="number">
                21
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/delete-node" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Delete Node">
    

            <span class="number">
                22
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/linked-list-cycles" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Does This Linked List Have A Cycle?">
    

            <span class="number">
                23
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/reverse-linked-list" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Reverse A Linked List">
    

            <span class="number">
                24
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/kth-to-last-node-in-singly-linked-list" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Kth to Last Node in a Singly-Linked List">
    

            <span class="number">
                25
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/reverse-string-in-place" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Reverse String in Place">
    

            <span class="number">
                26
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/reverse-words" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Reverse Words">
    

            <span class="number">
                27
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/matching-parens" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Parenthesis Matching">
    

            <span class="number">
                28
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/bracket-validator" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Bracket Validator">
    

            <span class="number">
                29
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/permutation-palindrome" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Permutation Palindrome">
    

            <span class="number">
                30
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/recursive-string-permutations" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Recursive String Permutations">
    

            <span class="number">
                31
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/top-scores" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Top Scores">
    

            <span class="number">
                32
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/which-appears-twice" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Which Appears Twice">
    

            <span class="number">
                33
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/word-cloud" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Word Cloud Data">
    

            <span class="number">
                34
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/shuffle" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="In-Place Shuffle">
    

            <span class="number">
                35
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/single-riffle-check" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Single Riffle Shuffle">
    

            <span class="number">
                36
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/simulate-5-sided-die" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Simulate 5-sided die">
    

            <span class="number">
                37
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/simulate-7-sided-die" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Simulate 7-sided die">
    

            <span class="number">
                38
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/two-egg-problem" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Two Egg Problem">
    

            <span class="number">
                39
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/find-duplicate-optimize-for-space" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Find Repeat, Space Edition">
    

            <span class="number">
                40
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/find-duplicate-optimize-for-space-beast-mode" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Find Repeat, Space Edition BEAST MODE">
    

            <span class="number">
                41
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/find-duplicate-files" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Find Duplicate Files">
    

            <span class="number">
                42
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                unfinished
                           ">

    
        <a href="https://www.interviewcake.com/question/merge-sorted-arrays" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Merge Sorted Arrays">
    

            <span class="number">
                43
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper current                                                              future                             ng-scope" ng-controller="NumberlineCurrentQuestionCtrl">

    
        <a href="https://www.interviewcake.com/question/url-shortener" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="URL Shortener">
    

            <span class="number">
                44
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                future
                           ">

    
        <a href="https://www.interviewcake.com/question/graph-coloring" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="Graph Coloring">
    

            <span class="number">
                45
            </span>

            

    
        </a>
    
</div>

            
        
            
                <div class="numberline-number-wrapper 
                           
                                future
                           ">

    
        <a href="https://www.interviewcake.com/question/mesh-message" title="" data-toggle="tooltip" data-placement="bottom" data-delay="{ &quot;show&quot;: 0, &quot;hide&quot;: 0}" data-original-title="MeshMessage">
    

            <span class="number">
                46
            </span>

            

    
        </a>
    
</div>

            
        
    </section>

    <div class="edge-fade left" ng-class="{&#39;animate-fade&#39;: editorOpeningOrClosing}" ng-style="{left: edgeFadePositions.left + &#39;px&#39;}" style="left: 0px;">
    </div>
    <div class="edge-fade right" ng-class="{&#39;animate-fade&#39;: editorOpeningOrClosing}" ng-style="{right: edgeFadePositions.right + &#39;px&#39;}" style="right: -160px;">
    </div>

    <div class="scroll-on-hover left" ng-mouseenter="scrollDirection = &#39;-&#39;; toggleScroll()" ng-mouseleave="toggleScroll()" ng-hide="edgeFadePositions.left === -edgeFadeWidth">
    </div>
    <div class="scroll-on-hover right ng-hide" ng-mouseenter="scrollDirection = &#39;+&#39;; toggleScroll()" ng-mouseleave="toggleScroll()" ng-hide="edgeFadePositions.right &lt;= -(edgeFadeWidth - 2)" style=""> <!-- cuz chrome only scrolls to 2px less than it can -->
    </div>

</div>

    

    
        <div class="free-questions-left ng-hide" ng-show="currentUserSet &amp;&amp; !currentUser.is_full_access">


<p>
<span ng-show="currentUser.getNumFreeQuestionsLeft()&gt;0" class="ng-hide">

    <span ng-show="currentUser.getNumFreeQuestionsLeft()==1" class="ng-hide">Just </span>
    <strong class="num ng-binding" ng-bind="currentUser.getNumFreeQuestionsLeft()">0</strong>

</span>

<span ng-show="currentUser.getNumFreeQuestionsLeft()==0">
    No
</span>

more free question<span ng-show="currentUser.getNumFreeQuestionsLeft() != 1">s</span>

left!
</p>



<a href="https://www.interviewcake.com/upgrade" class="btn btn-default btn-sm">
    Upgrade Now <span class="glyphicon glyphicon-arrow-right" aria-hidden="true"></span>
</a>

</div>

    

    
    <div class="wrapper-hack" ng-init="slug=&#39;url-shortener&#39;">
<div class="card ng-scope" ng-class="{&#39;started&#39;: btnPresses.length &gt; 0}" ng-controller="CardCtrl">

    <div class="sections">
        
    <div>
<span class="question-data" data-difficulty="7" data-is-single-track="true" data-meta_desc="Design a URL shortener, like bit.ly" data-name="URL Shortener" data-title="" data-weight="1" data-num-hints="0" data-num-gotchas="9" ng-init="setNumHints(0); setNumGotchas(9); isSingleTrack = true; ">
</span>
<div class="section-wrapper ng-isolate-scope section-question" ng-class="getSectionClass()" ng-init="ready=false" ng-show="shouldShow()" section="question">
    <h3 class="heading slide ng-binding ng-isolate-scope ng-hide" ng-show="shouldShow()" ng-bind="::getHeadingText()" heading="question" hide-heading=""></h3>

    <div class="section section-question" ng-class="getSectionClass()" ng-transclude="">
<p class="ng-scope">
<strong>
Design a URL shortener
</strong>
</p>
<p class="ng-scope">
You know, like bit.ly.
</p>
<p class="ng-scope">
Let's call it ca.ke!
</p>
<p class="ng-scope">
<strong>
Step 1 is to scope the project.
</strong>
System design questions like this are usually intentionally left open-ended, so you have to ask some questions and make some decisions about exactly what you're building to get on the same page as your interviewer.
</p>
<p class="ng-scope">
So, what are we building? What features might we need?
</p>
</div>

    
</div>
<div class="section-wrapper ng-isolate-scope section-gotchas" ng-class="getSectionClass()" ng-init="ready=false" ng-show="shouldShow()" hide-heading="true" section="gotchas" style="">
    <h3 class="heading slide ng-binding ng-isolate-scope ng-hide" ng-show="shouldShow()" ng-bind="::getHeadingText()" heading="gotchas" hide-heading="true">Gotchas</h3>

    <div class="section section-gotchas" ng-class="getSectionClass()" ng-transclude="">
<div class="note slide ng-isolate-scope highlight-flash" ng-show="shouldShow()" note="" number="1" type="gotcha" style="display: block;">
    <div class="note-content" ng-transclude="">
<h3 class="ng-scope">
Features
</h3>
<p class="ng-scope">
<strong>
Is this a full web app, with a web interface?
</strong>
No, let's just build an API to start.
</p>
<p class="ng-scope">
<strong>
Since it's an API, do we need authentication or user accounts or developer keys?
</strong>
No, let's just make it open to start.
</p>
<p class="ng-scope">
<strong>
Can people modify or delete links?
</strong>
Let's leave that out for now.
</p>
<p class="ng-scope">
<strong>
If people can't delete links...do they persist forever? Or do we automatically remove old ones?
</strong>
First, it's worth considering what policies we could use for removing old ones:
</p>
<ol class="ng-scope">
<li>
We could remove links that were <em>created</em> some length of time ago...like 6 months.
</li>
<li>
We could remove links that haven't been <em>visited</em> in some length of time...like 6 months.
</li>
</ol>
<p class="ng-scope">
(2) seems less frustrating than (1). Are there cases where (2) could still frustrate users? If a link is on the public web, it's likely to get hit somewhat regularly, at least by spiders. But what if it's on the private web (e.g. an internal "resources" page on a private university intranet)? Or...what if someone printed a bunch of <em>pamphlets</em> that had the URL on it, didn't give out any pamphlets for a few months, then started giving them out again? That seems like a pretty reasonable thing that might happen (putting a URL on a printed piece of paper is a great reason to use a link shortener!) and having the link suddenly stop working would be quite frustrating for the user. Worse, what if a <em>book</em> already had the shortlink printed in a million copies? So let's let links exist forever.
</p>
<p class="ng-scope">
<strong>
Should we let people <em>choose</em> their shortlink, or just always auto-generate it?
</strong>
For example, say they want <span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__url-parkers-resume"><span class="ng-scope">ca.ke/parkers-resume</span></span>. Let's definitely support that.
</p>
<p class="ng-scope">
<strong>
Do we need analytics, so people can see how many people are clicking on a link, etc?
</strong>
Hmmm, good idea. But let's leave it out to start.
</p>
<p class="ng-scope">
It's okay if your list of features was different from ours. Let's proceed with these requirements so we're working on the same problem.
</p>
<p class="ng-scope">
<strong>Next step: Design goals</strong>. If we're designing something, we should know what we're optimizing for! What are we optimizing for?
</p>
</div>
</div>
<div class="note slide ng-isolate-scope highlight-flash" ng-show="shouldShow()" note="" number="2" type="gotcha" style="display: block;">
    <div class="note-content" ng-transclude="">
<h3 class="ng-scope">
Design Goals
</h3>
<p class="ng-scope">
Here's what we came up with:
</p>
<ol class="ng-scope">
<li>
We should be able to store a <em>lot</em> of links, since we're not automatically expiring them.
</li>
<li>
Our shortlinks should be as short as possible. The whole point of a link shortener is to make <em>short</em> links! Having shorter links than our competition could be a business advantage.
</li>
<li>
Following a shortlink should be <em>fast</em>.
</li>
<li>
The shortlink follower should be resilient to load spikes. One of our links might be the top story on Reddit, for example.
</li>
</ol>
<p class="aside ng-scope">
It's worth taking a moment to really think about the <em>order</em> of our goals. Sometimes design goals are at odds with each other (to do a better job of one, we need to do a worse job of another). So it's helpful to know which goals are more important than others.
</p>
<p class="ng-scope">
It's okay if your list wasn't just like ours. But to get on the same page, let's move forward with these design goals.
</p>
<p class="ng-scope">
<strong>
Next step: building the data model.
</strong>
Think about the database schema or the models we'll want. What things do we need to store, and how should they relate to each other? This is the part where we answer questions like "is this a many-to-many or a one-to-many?" or "should these be in the same table or different tables?"
</p>
</div>
</div>
<div class="note slide ng-isolate-scope highlight-flash" ng-show="shouldShow()" note="" number="3" type="gotcha" style="display: block;">
    <div class="note-content" ng-transclude="">
<h3 class="ng-scope">
Data Model
</h3>
<p class="ng-scope">
It's worthwhile to be careful about how we name things. This'll help us communicate clearly with our interviewer, and it'll show that we care about using descriptive and consistent names! Many interviewers look for this.
</p>
<p class="ng-scope">
Let's call our main entity a <strong><span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__link"><span class="ng-scope">Link</span></span></strong>. A <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__link"><span class="ng-scope">Link</span></span> is a mapping between a <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__short_link"><span class="ng-scope">shortLink</span></span> on our site, and a <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__long_link"><span class="ng-scope">longLink</span></span>, where we redirect people when they visit the <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__short_link"><span class="ng-scope">shortLink</span></span>.
</p>
<div code-block="question__url-shortener__models-1" language="none" translation-highlighting="static" actual-language="none" class="ng-scope ng-isolate-scope"><pre class="  language-none">  <code class="  language-none" ng-transclude="">Link
- shortLink
- longLink</code>
</pre>
<span class="warning-message ng-binding ng-hide" ng-show="warningMessage" ng-bind="warningMessage"></span>
<div class="select-language-content ng-hide" ng-hide="staticLanguage">
<select ng-model="contentLanguage" ng-options="language.display_name for language in contentLanguages | orderBy: &#39;display_name&#39;" ng-change="updateLanguage(contentLanguage)" class="ng-pristine ng-untouched ng-valid" style="width: 61px;"><option value="0" label="C">C</option><option value="1" label="C#">C#</option><option value="2" label="C++">C++</option><option value="3" label="Java">Java</option><option value="4" selected="selected" label="JavaScript">JavaScript</option><option value="5" label="Objective-C">Objective-C</option><option value="6" label="PHP">PHP</option><option value="7" label="Python">Python</option><option value="8" label="Ruby">Ruby</option><option value="9" label="Swift">Swift</option></select>
</div>
<span class="only-content-language ng-binding" ng-show="staticLanguage" ng-bind="onlyLanguage"></span>
</div>
<p class="ng-scope">
The <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__short_link"><span class="ng-scope">shortLink</span></span> could be one we've randomly generated, or one a user chose.
</p>
<p class="ng-scope">
Of course, we don't need to store the <em>full</em> <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__shortlink"><span class="ng-scope">ShortLink</span></span> URL (e.g. <span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__mysite-shortlink"><span class="ng-scope">ca.ke/mysite</span></span>), we just need to store the "slug"—the part at the end (e.g. "<span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__mysite"><span class="ng-scope">mysite</span></span>").
</p>
<p class="ng-scope">
So let's rename the <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__short_link"><span class="ng-scope">shortLink</span></span> field to "<span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__slug"><span class="ng-scope">slug</span></span>."
</p>
<div code-block="question__url-shortener__models-2" language="none" translation-highlighting="static" actual-language="none" class="ng-scope ng-isolate-scope" style="width: 100%;"><pre class="  language-none">  <code class="  language-none" ng-transclude="">Link
- slug
- longLink</code>
</pre>
<span class="warning-message ng-binding ng-hide" ng-show="warningMessage" ng-bind="warningMessage"></span>
<div class="select-language-content ng-hide" ng-hide="staticLanguage">
<select ng-model="contentLanguage" ng-options="language.display_name for language in contentLanguages | orderBy: &#39;display_name&#39;" ng-change="updateLanguage(contentLanguage)" class="ng-pristine ng-untouched ng-valid" style="width: 61px;"><option value="0" label="C">C</option><option value="1" label="C#">C#</option><option value="2" label="C++">C++</option><option value="3" label="Java">Java</option><option value="4" selected="selected" label="JavaScript">JavaScript</option><option value="5" label="Objective-C">Objective-C</option><option value="6" label="PHP">PHP</option><option value="7" label="Python">Python</option><option value="8" label="Ruby">Ruby</option><option value="9" label="Swift">Swift</option></select>
</div>
<span class="only-content-language ng-binding" ng-show="staticLanguage" ng-bind="onlyLanguage"></span>
</div>
<p class="ng-scope">
Now the name <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__long_link"><span class="ng-scope">longLink</span></span> doesn't make as much sense without <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__short_link"><span class="ng-scope">shortLink</span></span>. So let's change it to <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__destination"><span class="ng-scope">destination</span></span>.
</p>
<div code-block="question__url-shortener__models-3" language="none" translation-highlighting="static" actual-language="none" class="ng-scope ng-isolate-scope" style="width: 100%;"><pre class="  language-none">  <code class="  language-none" ng-transclude="">Link
- slug
- destination</code>
</pre>
<span class="warning-message ng-binding ng-hide" ng-show="warningMessage" ng-bind="warningMessage"></span>
<div class="select-language-content ng-hide" ng-hide="staticLanguage">
<select ng-model="contentLanguage" ng-options="language.display_name for language in contentLanguages | orderBy: &#39;display_name&#39;" ng-change="updateLanguage(contentLanguage)" class="ng-pristine ng-untouched ng-valid" style="width: 61px;"><option value="0" label="C">C</option><option value="1" label="C#">C#</option><option value="2" label="C++">C++</option><option value="3" label="Java">Java</option><option value="4" selected="selected" label="JavaScript">JavaScript</option><option value="5" label="Objective-C">Objective-C</option><option value="6" label="PHP">PHP</option><option value="7" label="Python">Python</option><option value="8" label="Ruby">Ruby</option><option value="9" label="Swift">Swift</option></select>
</div>
<span class="only-content-language ng-binding" ng-show="staticLanguage" ng-bind="onlyLanguage"></span>
</div>
<p class="ng-scope">
And let's call this whole model/table <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__shortlink"><span class="ng-scope">ShortLink</span></span>, to be a bit more specific.<!-- (I'm already imagining another potential future entity we might want to call a "link").-->
</p>
<div code-block="question__url-shortener__models-4" language="none" translation-highlighting="static" actual-language="none" class="ng-scope ng-isolate-scope"><pre class="  language-none">  <code class="  language-none" ng-transclude="">ShortLink
- slug
- destination</code>
</pre>
<span class="warning-message ng-binding ng-hide" ng-show="warningMessage" ng-bind="warningMessage"></span>
<div class="select-language-content ng-hide" ng-hide="staticLanguage">
<select ng-model="contentLanguage" ng-options="language.display_name for language in contentLanguages | orderBy: &#39;display_name&#39;" ng-change="updateLanguage(contentLanguage)" class="ng-pristine ng-untouched ng-valid" style="width: 61px;"><option value="0" label="C">C</option><option value="1" label="C#">C#</option><option value="2" label="C++">C++</option><option value="3" label="Java">Java</option><option value="4" selected="selected" label="JavaScript">JavaScript</option><option value="5" label="Objective-C">Objective-C</option><option value="6" label="PHP">PHP</option><option value="7" label="Python">Python</option><option value="8" label="Ruby">Ruby</option><option value="9" label="Swift">Swift</option></select>
</div>
<span class="only-content-language ng-binding" ng-show="staticLanguage" ng-bind="onlyLanguage"></span>
</div>
<p class="aside ng-scope">
Investing time in carefully naming things from the beginning is always impressive in an interview. A <em>big</em> part of code readability is how well things are named!
</p>
<p class="ng-scope">
<strong>
Next: sketching the code.
</strong>
Don't get hung up on the details here—pseudocode is fine.
</p>
<p class="ng-scope">
Think of this part as <em>sprinting to a naive first draft design</em>, so you and your interviewer can get on the same page and have a starting point for optimizing. There may be things that come up as you go that are clearly "tricky issues" that need to be thought through. Feel free to skip these as you go—just jot down a note to come back to them later.
</p>
<p class="ng-scope">
Our main goal here is to come up with a skeleton to start building things out from. Think about what endpoints/views we'll need, and what each one will have to do.
</p>
</div>
</div>
<div class="note slide ng-isolate-scope highlight-flash" ng-show="shouldShow()" note="" number="4" type="gotcha" style="display: block;">
    <div class="note-content" ng-transclude="">
<h3 class="ng-scope">
Views/Pages/Endpoints
</h3>
<p class="ng-scope">
<strong>
First, let's make a way to <em>create</em> a <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__shortlink"><span class="ng-scope">ShortLink</span></span>.
</strong>
</p>
<p class="ng-scope">
Since we're making an API, let's make it REST-style. If REST is one of those "I've heard it a bunch but only half know what it means" things for you, I highly recommend <a href="http://www.restapitutorial.com/lessons/restquicktips.html" target="_blank">reading up on it</a>.
</p>
<p class="ng-scope">
In normal REST style, our endpoint for creating a <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__shortlink"><span class="ng-scope">ShortLink</span></span> should be named after the entity we're creating. Versioning apis is also a reasonable thing to do. So let's put our creation endpoint at
<strong><span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__url-shortlink-endpoint"><span class="ng-scope">ca.ke/api/v1/shortlink</span></span></strong>.
</p>
<p class="ng-scope">
To create a new <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__shortlink"><span class="ng-scope">ShortLink</span></span>, we'll send a POST request there. Our POST request will include one required argument: the <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__destination"><span class="ng-scope">destination</span></span> where our <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__shortlink"><span class="ng-scope">ShortLink</span></span> will point. It'll also optionally take a slug argument. If no slug is provided, we'll generate one. The response will contain the newly-created <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__shortlink"><span class="ng-scope">ShortLink</span></span>, including its <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__slug"><span class="ng-scope">slug</span></span> and <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__destination"><span class="ng-scope">destination</span></span>.
</p>
<div code-block="question__url-shortener__creation-request" language="none" translation-highlighting="static" actual-language="none" class="ng-scope ng-isolate-scope"><pre class="  language-none">  <code class="  language-none" ng-transclude="">$ curl --data '{"destination": "interviewcake.com"}' https://ca.ke/api/v1/shortlink
{
  "slug": "ae8uFt",
  "destination": "interviewcake.com"
}</code>
</pre>
<span class="warning-message ng-binding ng-hide" ng-show="warningMessage" ng-bind="warningMessage"></span>
<div class="select-language-content ng-hide" ng-hide="staticLanguage">
<select ng-model="contentLanguage" ng-options="language.display_name for language in contentLanguages | orderBy: &#39;display_name&#39;" ng-change="updateLanguage(contentLanguage)" class="ng-pristine ng-untouched ng-valid" style="width: 61px;"><option value="0" label="C">C</option><option value="1" label="C#">C#</option><option value="2" label="C++">C++</option><option value="3" label="Java">Java</option><option value="4" selected="selected" label="JavaScript">JavaScript</option><option value="5" label="Objective-C">Objective-C</option><option value="6" label="PHP">PHP</option><option value="7" label="Python">Python</option><option value="8" label="Ruby">Ruby</option><option value="9" label="Swift">Swift</option></select>
</div>
<span class="only-content-language ng-binding" ng-show="staticLanguage" ng-bind="onlyLanguage"></span>
</div>
<p class="ng-scope">
In usual REST style, we should allow GET, PUT, PATCH, and DELETE requests as well to read, modify, and delete links. But since that's not a requirement yet, we'll just reject non-POST requests with an <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.5.2" target="_blank">error 501 ("not implemented")</a> for now.
</p>
<p class="ng-scope">
So our endpoint might look something like this (pseudocode):
</p>
<div code-block="question__url-shortener__create-endpoint" language="none" translation-highlighting="static" actual-language="none" class="ng-scope ng-isolate-scope" style="width: 100%;"><pre class="  language-none">  <code class="  language-none" ng-transclude="">function shortlink(request) {
    if (request.method !== 'POST') {
        return response(501);  // HTTP 501 NOT IMPLEMENTED
    }

    var destination = request.data.destination;
    var slug = request.data.slug;

    // if they did not include a slug, make them one
    if (typeof slug === 'undefined') {
        slug = generateRandomSlug();
    }

    DB.insertLink(slug, destination);

    var responseBody = JSON.stringify({'slug': slug});
    return response(200, responseBody);
}</code>
</pre>
<span class="warning-message ng-binding ng-hide" ng-show="warningMessage" ng-bind="warningMessage"></span>
<div class="select-language-content ng-hide" ng-hide="staticLanguage">
<select ng-model="contentLanguage" ng-options="language.display_name for language in contentLanguages | orderBy: &#39;display_name&#39;" ng-change="updateLanguage(contentLanguage)" class="ng-pristine ng-untouched ng-valid" style="width: 61px;"><option value="0" label="C">C</option><option value="1" label="C#">C#</option><option value="2" label="C++">C++</option><option value="3" label="Java">Java</option><option value="4" selected="selected" label="JavaScript">JavaScript</option><option value="5" label="Objective-C">Objective-C</option><option value="6" label="PHP">PHP</option><option value="7" label="Python">Python</option><option value="8" label="Ruby">Ruby</option><option value="9" label="Swift">Swift</option></select>
</div>
<span class="only-content-language ng-binding" ng-show="staticLanguage" ng-bind="onlyLanguage"></span>
</div>
<p class="ng-scope">
Of course, we haven't defined exactly how <span class="ic-function ng-isolate-scope" func="question__url-shortener__generate_random_slug"><span class="name" ng-transclude=""><span class="ng-scope">generateRandomSlug</span></span><span ng-hide="noParens">()</span></span> works. Considering it a bit, it quickly becomes clear this is a pretty tangled issue. We'll have to figure out:
</p>
<ol class="ng-scope">
<li>
What characters can we use in randomly generated slugs? More possible characters means more possible random slugs without making our shortlinks longer. But what characters are allowed in URLs?
</li>
<li>
How do we ensure a randomly generated slug hasn't already been used? Or if there <em>is</em> such a collision, how do we handle it?
</li>
</ol>
<p class="ng-scope">
So let's jot down these questions, put them aside, and come back to them after we're done sketching our general app structure.
</p>
<p class="ng-scope">
<strong>
Second, let's make a way to <em>follow</em> a <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__shortlink"><span class="ng-scope">ShortLink</span></span>.
</strong>
That's the whole point, after all!
</p>
<p class="ng-scope">
Our shortened URLs should be as short as possible. So as mentioned before, we'll give them this format: <strong><span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__url-cake-slug"><span class="ng-scope">ca.ke/$slug</span></span></strong>.
</p>
<p class="ng-scope">
Where <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__dollar-slug"><span class="ng-scope">$slug</span></span> is the slug (either auto-generated by us or specified by the user). We could make it clearer that this is a redirect endpoint, by using a format like <span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__url-cake-r-slug"><span class="ng-scope">ca.ke/r/$slug</span></span>, for example. But that adds 2 precious characters of length to our shortlink URLs!
</p>
<p class="aside ng-scope">
One potential challenge here: if/when we build a web app for our service, we'll need some way of differentiating our own pages from shortlinks. For example, if we want an about page at <span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__url-about"><span class="ng-scope">ca.ke/about</span></span>, our back-end will need to know "about" isn't just a shortlink slug. In fact, we might want to "reserve" or "block" shortlinks for pages we think we might need, so users don't grab URLs we might want for our own site. <em>Alternately</em> we could just say <em>our</em> pages have paths that're always prefixed with something, like <span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__url-w"><span class="ng-scope">/w/</span></span>. For example, <span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__url-w-about"><span class="ng-scope">ca.ke/w/about</span></span>.
</p>
<p class="ng-scope">
The code for the redirection endpoint is pretty simple:
</p>
<div code-block="question__url-shortener__redirect-endpoint" language="none" translation-highlighting="static" actual-language="none" class="ng-scope ng-isolate-scope"><pre class="  language-none">  <code class="  language-none" ng-transclude="">function redirect(request) {
    var destination = DB.getLinkDestination(request.path);
    return response(302, destination);
}</code>
</pre>
<span class="warning-message ng-binding ng-hide" ng-show="warningMessage" ng-bind="warningMessage"></span>
<div class="select-language-content ng-hide" ng-hide="staticLanguage">
<select ng-model="contentLanguage" ng-options="language.display_name for language in contentLanguages | orderBy: &#39;display_name&#39;" ng-change="updateLanguage(contentLanguage)" class="ng-pristine ng-untouched ng-valid" style="width: 61px;"><option value="0" label="C">C</option><option value="1" label="C#">C#</option><option value="2" label="C++">C++</option><option value="3" label="Java">Java</option><option value="4" selected="selected" label="JavaScript">JavaScript</option><option value="5" label="Objective-C">Objective-C</option><option value="6" label="PHP">PHP</option><option value="7" label="Python">Python</option><option value="8" label="Ruby">Ruby</option><option value="9" label="Swift">Swift</option></select>
</div>
<span class="only-content-language ng-binding" ng-show="staticLanguage" ng-bind="onlyLanguage"></span>
</div>
<p class="ng-scope">
<strong>
Next: slug generation.
</strong>
Let's return to those questions we came up with about slugs. How long should they be, what characters should we allow, and how should we handle random slug collisions?
</p>
</div>
</div>
<div class="note slide ng-isolate-scope highlight-flash" ng-show="shouldShow()" note="" number="5" type="gotcha" style="display: block;">
    <div class="note-content" ng-transclude="">
<h3 class="ng-scope">
Slug generation
</h3>
<p class="aside ng-scope">
A note about methodology: Our default process for answering questions like this is often "make a reasonable guess, brainstorm potential issues, and revise." That's fine, but sometimes it feels more organized and impressive to do something more like "brainstorm design goals, then design around those goals." So we'll do that.
</p>
<p class="ng-scope">
Let's look back up at the design goals we came up with earlier. The first two are immediately relevant to this problem:
</p>
<ol class="ng-scope">
<li>
We should be able to store a <em>lot</em> of links.
</li>
<li>
Our shortlinks should be as short as possible.
</li>
</ol>
<p class="ng-scope">
Looking at a few examples, we can quickly notice that the more characters we allow in our shortlinks, the more <em>different</em> <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__shortlink"><span class="ng-scope">ShortLink</span></span>s we can have without making our <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__shortlink"><span class="ng-scope">ShortLink</span></span>s <em>longer</em>. Specifically, if we allow <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.43056em;"></span><span class="strut bottom" style="height: 0.43056em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">c</span></span></span></span></span> different characters, for <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.43056em;"></span><span class="strut bottom" style="height: 0.43056em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span></span>-character-long slugs we have <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>c</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">c^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.664392em;"></span><span class="strut bottom" style="height: 0.664392em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">c</span><span class="vlist"><span class="" style="top: -0.363em; margin-right: 0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord mathit">n</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span>​</span></span></span></span></span></span></span> distinct possibilities.
</p>
<div class="aside ng-scope">
<p>
<strong>
How did we get that math?
</strong>
</p>
<p>
We drew out a few examples and looked for patterns.
</p>
<p>
It helps to start with small numbers. Suppose we only allowed <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.64444em;"></span><span class="strut bottom" style="height: 0.64444em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">2</span></span></span></span></span> different characters for our slugs: 'a' and 'b', How many possible <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.64444em;"></span><span class="strut bottom" style="height: 0.64444em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">1</span></span></span></span></span>-character slugs would we have? <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.64444em;"></span><span class="strut bottom" style="height: 0.64444em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">2</span></span></span></span></span>: 'a' and 'b'.
</p>
<p>
How many possible <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.64444em;"></span><span class="strut bottom" style="height: 0.64444em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">2</span></span></span></span></span>-character slugs? Well, we have <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.64444em;"></span><span class="strut bottom" style="height: 0.64444em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">2</span></span></span></span></span> possibilities for the first character, and for <em>each</em> of those <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.64444em;"></span><span class="strut bottom" style="height: 0.64444em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">2</span></span></span></span></span> possible first characters, we have <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.64444em;"></span><span class="strut bottom" style="height: 0.64444em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">2</span></span></span></span></span> possible second characters. That's <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mo>∗</mo><mn>2</mn><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">2*2 = 4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.64444em;"></span><span class="strut bottom" style="height: 0.64444em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">2</span><span class="mbin">∗</span><span class="mord">2</span><span class="mrel">=</span><span class="mord">4</span></span></span></span></span> possibilities overall.
</p>
<p>
How many possible <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.64444em;"></span><span class="strut bottom" style="height: 0.64444em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">3</span></span></span></span></span>-character slugs? <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.64444em;"></span><span class="strut bottom" style="height: 0.64444em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">2</span></span></span></span></span> possibilities for the first character, and for <em>each</em> of those <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.64444em;"></span><span class="strut bottom" style="height: 0.64444em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">2</span></span></span></span></span> possible first characters, we have <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.64444em;"></span><span class="strut bottom" style="height: 0.64444em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">2</span></span></span></span></span> possible second characters, and for each of those possible first and second characters, another <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.64444em;"></span><span class="strut bottom" style="height: 0.64444em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">2</span></span></span></span></span> possible third characters. That's <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mo>∗</mo><mn>2</mn><mo>∗</mo><mn>2</mn><mo>=</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">2*2*2 = 8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.64444em;"></span><span class="strut bottom" style="height: 0.64444em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">2</span><span class="mbin">∗</span><span class="mord">2</span><span class="mbin">∗</span><span class="mord">2</span><span class="mrel">=</span><span class="mord">8</span></span></span></span></span> possibilities overall.
</p>
<p>
Looks like this is a multiplication thing. Or in fact, a <em>power</em> thing. In general, we have <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">2^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.664392em;"></span><span class="strut bottom" style="height: 0.664392em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord">2</span><span class="vlist"><span class="" style="top: -0.363em; margin-right: 0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord mathit">n</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span>​</span></span></span></span></span></span></span> possible <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.43056em;"></span><span class="strut bottom" style="height: 0.43056em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span></span>-character slugs, if we only allow 2 possible choices (a and b) for each character.
</p>
<p>
And if we want to allow <em><span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.43056em;"></span><span class="strut bottom" style="height: 0.43056em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">c</span></span></span></span></span></em> different possible characters, instead of just 2? <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>c</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">c^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.664392em;"></span><span class="strut bottom" style="height: 0.664392em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">c</span><span class="vlist"><span class="" style="top: -0.363em; margin-right: 0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord mathit">n</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span>​</span></span></span></span></span></span></span> possibilities for an <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.43056em;"></span><span class="strut bottom" style="height: 0.43056em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span></span>-character-long slug.
</p>
<p>
</p>
</div>
<p class="ng-scope">
So if we're trying to accommodate as many slugs as possible, we should allow as many characters as we can! So let's do this:
</p>
<ol class="ng-scope">
<li>
Figure out the max set of characters we can allow in our random shortlinks.
</li>
<li>
Figure out how many distinct shortlinks we want to accommodate.
</li>
<li>
Figure out how long our shortlinks must be to accommodate that many distinct possibilities.
</li>
</ol>
<p class="aside ng-scope">
Sketching a process like this before jumping in is hugely impressive. It shows organized, methodical thinking. Whenever you're not sure how to proceed, take a step back and try to write out a process for getting to the bottom of things. It's fine if you end up straying from your plan—it'll still help you organize your thinking.
</p>
<h3 class="ng-scope">
What characters can we allow in our randomly-generated slugs?
</h3>
<p class="ng-scope">
What are the <em>constraints</em> on <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.43056em;"></span><span class="strut bottom" style="height: 0.43056em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">c</span></span></span></span></span>? Let's think about it:
</p>
<ol class="ng-scope">
<li>
We should only use characters that are actually allowed in URLs.
</li>
<li>
We should <em>probably</em> only pick characters that are relatively easy to type on a keyboard. Remember the use case we talked about where people are typing in a <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__shortlink"><span class="ng-scope">ShortLink</span></span> that they're reading off a piece of paper?
</li>
</ol>
<p id="rfc_start" class="ng-scope">
So, what characters are allowed in URLs? It's okay to not know the answer off the top of your head. But you should be able to tell your interviewer that you know how to figure it out! Googling or searching on Stack Overflow is a fine answer. It's even cooler to say, "I'm sure this is defined in an RFC somewhere."
</p>
<p class="aside ng-scope">
<strong>
What's an RFC?
</strong>
<a href="https://en.wikipedia.org/wiki/Request_for_Comments" target="_blank">RFC</a> stands for "request for comments." The first ones are from 1969 (back in the day of ARPANET, the precursor to the internet), and <a href="http://www.rfc-editor.org/rfc-index.html" target="_blank">we still get new ones every year</a>. RFCs define lots of conventions for how internet communications work. Like <a href="https://tools.ietf.org/html/rfc2616#section-10.4.5" target="_blank">how status code 404 means "not found"</a>. Hilariously, some of the latest RFCs spec a custom XML vocabulary for <em>writing RFCs</em>. Yo dog. Also there's <a href="https://www.rfc-editor.org/rfc/rfc3092.txt" target="_blank">this one on the history of calling variables "Foo."</a> Easy to get lost <a href="http://www.rfc-editor.org/rfc-index.html" target="_blank">browsing these</a>...
</p>
<p class="ng-scope">
It turns out the answer is "only alphanumerics, the special characters "<span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__special-chars"><span class="ng-scope">$-_.+!*'(),</span></span>", and reserved characters used for their reserved purposes may be used unencoded within a URL" (<a href="https://www.rfc-editor.org/rfc/rfc1738.txt" target="_blank">RFC 1738</a>). "Reserved characters" with "reserved purposes" are characters like '?', which marks the beginning of a query string, and '#', which marks the beginning of a fragment/anchor. We definitely shouldn't use any of those. If we allowed '?' in the beginning of our slug, the characters after it would be interpreted as part of the query string and not part of the slug!
</p>
<p class="ng-scope">
So just alphanumerics and the "special characters" <span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__special-chars"><span class="ng-scope">$-_.+!*'(),</span></span>. Are accented alphabetical characters allowed? No, according to <a href="http://tools.ietf.org/html/rfc3986#section-2" target="_blank">RFC 3986</a>.
</p>
<p class="ng-scope">
What about uppercase and lowercase? <a href="http://tools.ietf.org/html/rfc3986#section-3.2.2" target="_blank">Domains aren't case-sensitive</a> (so <span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__url-googlecom"><span class="ng-scope">google.com</span></span> and <span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__url-googlecom-cap"><span class="ng-scope">Google.com</span></span> will always go to the same place), but the <em>path</em> portion of a URL <em>is</em> case-sensitive. If I query <span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__url-parkerfoo"><span class="ng-scope">parker.com/foo</span></span> and <span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__url-parkerfoo-cap"><span class="ng-scope">parker.com/Foo</span></span>, I'm requesting <em>different</em> documents (although, as a site owner, I <em>may</em> choose to return the same document in response to both requests). So yes, lowercase and capital versions of the same letter can be treated as different characters in our slugs.
</p>



<p class="ng-scope">
Okay, so it seems like the set of allowed characters is <span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__a-zcap"><span class="ng-scope">A-Z</span></span>, <span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__a-z"><span class="ng-scope">a-z</span></span>, <span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__r09"><span class="ng-scope">0-9</span></span>, and "<span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__special-chars"><span class="ng-scope">$-_.+!*'(),</span></span>". The apostrophe character seems a little iffy, since sometimes URLs are surrounded by single quotes in HTML documents. So let's pull that one.
</p>
<p class="ng-scope">
In fact, in keeping with point (2) above about ease of typing, let's pull <em>all</em> the "special characters" from our list. It seems like a small loss on character count (8 characters) in exchange for a big win on readability and typeability. If we find ourselves wanting those extra characters, we can add add 'em back in.
</p>
<p class="ng-scope">
Ah, but what if a user is specifying her <em>own</em> slug? She might want to use underscores, or dashes, or parentheses...so let's say for <em>user-specified</em> slugs, we allow "<span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__special-chars-no-apos"><span class="ng-scope">$-_.+!*(),</span></span>" (still no apostrophe).
</p>
<p class="aside ng-scope">
While we're on the topic of making URLs easy to type, we might want to consider constraining our character set to clear up common ambiguities. For example, not allowing both uppercase letter O and number 0. Or lowercase letter l and number 1. Font choice can help reduce these ambiguities, but we don't have any control over the fonts people use to display our shortlinks. This is a worthwhile consideration, but at the moment it's adding complexity to a question we're still trying to figure out. So let's just mention it and say, "This is something we want to keep an eye on for later, but let's put it aside for now." Your interviewer understands that you can't accommodate <em>everything</em> in your initial design, but she'll appreciate you showing an ability to anticipate what problems may come up in the user experience.
</p>
<p class="ng-scope">
Okay, so with <span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__a-z"><span class="ng-scope">a-z</span></span>, <span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__a-zcap"><span class="ng-scope">A-Z</span></span>, and <span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__r09"><span class="ng-scope">0-9</span></span>, we have 26 + 26 + 10 = 62 possible characters in our randomly-generated slugs. And for user-generated slugs, we have another 10 characters ("<span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__special-chars-no-apos"><span class="ng-scope">$-_.+!*(),</span></span>"), for 72 total.
</p>
<h3 class="ng-scope">
How many distinct slugs do we need?
</h3>
<p class="ng-scope">
About how many slugs do we need to be able to accommodate? This is a good question to ask your interviewer. She may want you to make a reasonable choice yourself. There's no one right answer; the important thing is to show some organized thinking.
</p>
<p class="ng-scope">
Here's one way to come up with a ballpark estimate: about how many new slugs might we create on a busy day? Maybe 100,000 per minute? Hard to imagine <em>more</em> than that. That's <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mn>0</mn><mn>0</mn><mo separator="true">,</mo><mn>0</mn><mn>0</mn><mn>0</mn><mo>∗</mo><mn>6</mn><mn>0</mn><mo>∗</mo><mn>2</mn><mn>4</mn><mo>≈</mo><mn>1</mn><mn>4</mn><mn>5</mn></mrow><annotation encoding="application/x-tex">100,000 * 60 * 24 \approx 145</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.64444em;"></span><span class="strut bottom" style="height: 0.83888em; vertical-align: -0.19444em;"></span><span class="base textstyle uncramped"><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mpunct">,</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mbin">∗</span><span class="mord">6</span><span class="mord">0</span><span class="mbin">∗</span><span class="mord">2</span><span class="mord">4</span><span class="mrel">≈</span><span class="mord">1</span><span class="mord">4</span><span class="mord">5</span></span></span></span></span> million new links a day. 52.5 billion a year. What's a number of years that feels like "almost forever"? I'd say 100. So that's 5.2 <em>trillion</em> slugs. That seems sufficiently large. It's pretty dependent on the accuracy of our estimate of 100,000 per minute. But it seems to be a pretty reasonable ceiling, and a purposefully high one. If we can accommodate that many slugs, we expect we'll be able to keep handing out random slugs effectively indefinitely.
</p>
<h3 class="ng-scope">
How short can we make our slugs while still getting enough distinct possibilities?
</h3>
<p class="ng-scope">
Let's return to the formula we came up with before: with a <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.43056em;"></span><span class="strut bottom" style="height: 0.43056em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">c</span></span></span></span></span>-character-long alphabet and slugs of length <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.43056em;"></span><span class="strut bottom" style="height: 0.43056em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span></span>, we get <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>c</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">c^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.664392em;"></span><span class="strut bottom" style="height: 0.664392em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">c</span><span class="vlist"><span class="" style="top: -0.363em; margin-right: 0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord mathit">n</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span>​</span></span></span></span></span></span></span> possible slugs. We want ~5 trillion possible slugs. And we decided on a 62-character alphabet.
So <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>6</mn><msup><mn>2</mn><mi>n</mi></msup><mo>≈</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">62^n \approx 5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.664392em;"></span><span class="strut bottom" style="height: 0.664392em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">6</span><span class="mord"><span class="mord">2</span><span class="vlist"><span class="" style="top: -0.363em; margin-right: 0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord mathit">n</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span>​</span></span></span><span class="mrel">≈</span><span class="mord">5</span></span></span></span></span> trillion. We just have to solve for <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.43056em;"></span><span class="strut bottom" style="height: 0.43056em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span></span>.
</p>



<p class="ng-scope">
We might know that we need to take a logarithm to solve for <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.43056em;"></span><span class="strut bottom" style="height: 0.43056em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span></span></span></span></span>. But even if we know that, this is a tricky thing to eyeball. If we're in front of a computer or phone, we can just plug it in to wolfram alpha. Turns out the answer is <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>≈</mo><mn>7</mn><mi mathvariant="normal">.</mi><mn>0</mn><mn>9</mn></mrow><annotation encoding="application/x-tex">\approx7.09</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.64444em;"></span><span class="strut bottom" style="height: 0.64444em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mrel">≈</span><span class="mord">7</span><span class="mord">.</span><span class="mord">0</span><span class="mord">9</span></span></span></span></span>. So 7 characters gets us most of the way to our target number of distinct possibilities.
</p>
<p class="ng-scope">
It's worth checking how many characters we could save by allowing "<span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__special-chars-no-apos"><span class="ng-scope">$-_.+!*(),</span></span>" as well. So <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>7</mn><msup><mn>2</mn><mi>n</mi></msup><mo>=</mo><mn>5</mn><mi mathvariant="normal">.</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">72^n = 5.2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.664392em;"></span><span class="strut bottom" style="height: 0.664392em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">7</span><span class="mord"><span class="mord">2</span><span class="vlist"><span class="" style="top: -0.363em; margin-right: 0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord mathit">n</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mord">5</span><span class="mord">.</span><span class="mord">2</span></span></span></span></span> trillion. We get <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>≈</mo><mn>6</mn><mi mathvariant="normal">.</mi><mn>8</mn></mrow><annotation encoding="application/x-tex">n\approx6.8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.64444em;"></span><span class="strut bottom" style="height: 0.64444em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span><span class="mrel">≈</span><span class="mord">6</span><span class="mord">.</span><span class="mord">8</span></span></span></span></span>. Including the special characters would save us something like <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">.</mi><mn>3</mn></mrow><annotation encoding="application/x-tex">.3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.64444em;"></span><span class="strut bottom" style="height: 0.64444em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">.</span><span class="mord">3</span></span></span></span></span> characters on our slug length.
</p>
<p class="ng-scope">
Is it worth it? Of course, there's no such thing as a fraction of a character. If we really <em>had to</em> accommodate <em>at least</em> 5.2 trillion random slugs, we'd have to round up, which would mean 7.09 would round up to 8-character slugs for our 62-character alphabet (not including special characters) and 6.8 would round up to 7-character slugs for our 72-character alphabet (including special characters).
</p>
<p class="ng-scope">
But we don't <em>really</em> have to accommodate 5.2 trillion or more slugs. 5.2 trillion was just a ballpark estimate—and it was intended to be a <em>high ceiling</em> on how many slugs we expect to get. So let's stick with our first instinct to remove those special characters for readability purposes, and let's choose 7 characters for our slugs.
</p>
<p class="aside ng-scope">
At a glance, looks like bit.ly agrees with our choices! They seem to use the same alphabet as us (<span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__a-zcap"><span class="ng-scope">A-Z</span></span>, <span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__a-z"><span class="ng-scope">a-z</span></span>, and <span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__r09"><span class="ng-scope">0-9</span></span>) and use 7 characters for each randomly-generated slug.
</p>
<div class="aside ng-scope">
<p>
For some added potential brevity, and some added possible random slugs, we could also allow for random slugs with <em>fewer</em> than 7 characters. How many additional random slugs would that get us?
</p>
<p>
If you're a whiz with mathematical series,you might know intuitively that the sum of these fewer-than-7-character slugs will be <em>far</em> less than the 7-character slugs. We can actually compute this to confirm.
</p>
<p>
<span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>6</mn><msup><mn>2</mn><mn>6</mn></msup></mrow><annotation encoding="application/x-tex">62^6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.814108em;"></span><span class="strut bottom" style="height: 0.814108em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">6</span><span class="mord"><span class="mord">2</span><span class="vlist"><span class="" style="top: -0.363em; margin-right: 0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord">6</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span>​</span></span></span></span></span></span></span> (for 6-char slugs), <em>plus</em> <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>6</mn><msup><mn>2</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">62^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.814108em;"></span><span class="strut bottom" style="height: 0.814108em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">6</span><span class="mord"><span class="mord">2</span><span class="vlist"><span class="" style="top: -0.363em; margin-right: 0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord">5</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span>​</span></span></span></span></span></span></span> (for 5-char slugs), <em>plus</em> <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>6</mn><msup><mn>2</mn><mn>4</mn></msup></mrow><annotation encoding="application/x-tex">62^4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.814108em;"></span><span class="strut bottom" style="height: 0.814108em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">6</span><span class="mord"><span class="mord">2</span><span class="vlist"><span class="" style="top: -0.363em; margin-right: 0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord">4</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span>​</span></span></span></span></span></span></span> (for 4-char slugs) + <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>6</mn><msup><mn>2</mn><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">62^3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.814108em;"></span><span class="strut bottom" style="height: 0.814108em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">6</span><span class="mord"><span class="mord">2</span><span class="vlist"><span class="" style="top: -0.363em; margin-right: 0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord">3</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span>​</span></span></span></span></span></span></span> + <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>6</mn><msup><mn>2</mn><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">62^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.814108em;"></span><span class="strut bottom" style="height: 0.814108em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">6</span><span class="mord"><span class="mord">2</span><span class="vlist"><span class="" style="top: -0.363em; margin-right: 0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord">2</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span>​</span></span></span></span></span></span></span> + <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>6</mn><mn>2</mn></mrow><annotation encoding="application/x-tex">62</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.64444em;"></span><span class="strut bottom" style="height: 0.64444em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">6</span><span class="mord">2</span></span></span></span></span>. About 57 billion random slugs. Which isn't that much in comparison to 5.2 <em>trillion</em>—it's two orders of magnitude less.
</p>
<p>
Since this doesn't win us much, let's skip it for now and only use exactly-7-character random slugs.
</p>
<p>
One interesting lesson here: going from 6 characters to 7 characters gave us a <em>two orders of magnitude</em> leap in our number of possible slugs. Going from 7 characters to 8 will give us another two orders of magnitude. So if and when we <em>do</em> start running out of 7-character random slugs, allowing just 1 more character will <em>dramatically</em> push back the point where we run out of random slugs.
</p>
</div>
<p class="ng-scope">
Okay, we know the characters we'll use for slugs. And we know how many characters we'll use. <strong>Next: how do we generate a random slug?</strong>
</p>
</div>
</div>
<div class="note slide ng-isolate-scope highlight-flash" ng-show="shouldShow()" note="" number="6" type="gotcha" style="display: block;">
    <div class="note-content" ng-transclude="">
<p class="ng-scope">
We could just make a random choice for each character:
</p>
<div code-block="question__url-shortener__generate-random-slug-1" language="none" translation-highlighting="static" actual-language="none" class="ng-scope ng-isolate-scope" style="width: 100%;"><pre class="  language-none">  <code class="  language-none" ng-transclude="">function getRandom(floor, ceiling) {
    return Math.floor(Math.random() * (ceiling - floor + 1)) + floor;
}

function generateRandomSlug() {
    var alphabet = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
    var numChars = 7;
    var result = "";

    for (var i = 0; i &lt; numChars; i++) {
        var randomIndex = getRandom(0, alphabet.length - 1);
        result += alphabet[randomIndex];
    }
    return result;
}</code>
</pre>
<span class="warning-message ng-binding ng-hide" ng-show="warningMessage" ng-bind="warningMessage"></span>
<div class="select-language-content ng-hide" ng-hide="staticLanguage">
<select ng-model="contentLanguage" ng-options="language.display_name for language in contentLanguages | orderBy: &#39;display_name&#39;" ng-change="updateLanguage(contentLanguage)" class="ng-pristine ng-untouched ng-valid" style="width: 61px;"><option value="0" label="C">C</option><option value="1" label="C#">C#</option><option value="2" label="C++">C++</option><option value="3" label="Java">Java</option><option value="4" selected="selected" label="JavaScript">JavaScript</option><option value="5" label="Objective-C">Objective-C</option><option value="6" label="PHP">PHP</option><option value="7" label="Python">Python</option><option value="8" label="Ruby">Ruby</option><option value="9" label="Swift">Swift</option></select>
</div>
<span class="only-content-language ng-binding" ng-show="staticLanguage" ng-bind="onlyLanguage"></span>
</div>
<p class="ng-scope">
<strong>
But how do we ensure slugs are unique?
</strong>
Two general strategies:
</p>
<ol class="ng-scope">
<li>
"Re-roll" when we hit an already-used slug
</li>
<li>
Adjust our slug generation strategy to only ever give us un-claimed slugs.
</li>
</ol>
<p class="ng-scope">
If we're serious about our first 2 design goals (short slugs, and accommodating many different slugs), option (2) is clearly better than option (1). Why? As we have more and more slugs in our database, we'll get more and more collisions. For example, when we're 3/4 of the way through our set of possible 7-character slugs, we'd expect to have to make <em>four</em> "rolls" before arriving at a slug that isn't taken already. And it'll just keep going up from there.
</p>
<p class="ng-scope">
So let's try to come up with a strategy for option (2). How could we do it?
</p>
<p class="ng-scope">
The answer is base conversion. <!--This comes up in a few different coding interview questions.-->
</p>
<h3 class="ng-scope">
Using base conversion to generate slugs
</h3>
<p class="ng-scope">
We usually use base-10 numbers, which allow 10 possible numerals:
<span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__c0"><span class="ng-scope">0</span></span>,
<span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__c1"><span class="ng-scope">1</span></span>,
<span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__c2"><span class="ng-scope">2</span></span>,
<span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__c3"><span class="ng-scope">3</span></span>,
<span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__c4"><span class="ng-scope">4</span></span>,
<span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__c5"><span class="ng-scope">5</span></span>,
<span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__c6"><span class="ng-scope">6</span></span>,
<span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__c7"><span class="ng-scope">7</span></span>,
<span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__c8"><span class="ng-scope">8</span></span>, and
<span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__c9"><span class="ng-scope">9</span></span>.
</p>
<p class="ng-scope">
Binary is base-2 and has 2 possible numerals: <span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__c0"><span class="ng-scope">0</span></span> and <span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__c1"><span class="ng-scope">1</span></span>.
</p>
<p class="ng-scope">
Our random slug alphabet has 62 possible numerals (<span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__a-zcap"><span class="ng-scope">A-Z</span></span>, <span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__a-z"><span class="ng-scope">a-z</span></span>, and <span class="ic-code-inline ng-isolate-scope" ng-transclude="" code-inline="question__url-shortener__r09"><span class="ng-scope">0-9</span></span>). So we can think of each of our possible "random" slugs as a unique <em>number</em>, expressed in base-62.
</p>
<p class="ng-scope">
So let's keep track of a global <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__random-slug-id"><span class="ng-scope">currentRandomSlugId</span></span>. When a request for a new random slug comes in, we simply convert that number to base-62 (using our custom numeral set) and return it. Oh, and we <em>increment</em> the <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__random-slug-id"><span class="ng-scope">currentRandomSlugId</span></span>, in preparation for the next request for a random slug.
</p>
<div code-block="question__url-shortener__generate-random-slug-2" language="none" translation-highlighting="static" actual-language="none" class="ng-scope ng-isolate-scope" style="width: 100%;"><pre class="  language-none">  <code class="  language-none" ng-transclude="">var currentRandomSlugId = 0;
function generateRandomSlug() {
    var newId = currentRandomSlugId++;
    return baseConversion(newId, base62Alphabet);
}</code>
</pre>
<span class="warning-message ng-binding ng-hide" ng-show="warningMessage" ng-bind="warningMessage"></span>
<div class="select-language-content ng-hide" ng-hide="staticLanguage">
<select ng-model="contentLanguage" ng-options="language.display_name for language in contentLanguages | orderBy: &#39;display_name&#39;" ng-change="updateLanguage(contentLanguage)" class="ng-pristine ng-untouched ng-valid" style="width: 61px;"><option value="0" label="C">C</option><option value="1" label="C#">C#</option><option value="2" label="C++">C++</option><option value="3" label="Java">Java</option><option value="4" selected="selected" label="JavaScript">JavaScript</option><option value="5" label="Objective-C">Objective-C</option><option value="6" label="PHP">PHP</option><option value="7" label="Python">Python</option><option value="8" label="Ruby">Ruby</option><option value="9" label="Swift">Swift</option></select>
</div>
<span class="only-content-language ng-binding" ng-show="staticLanguage" ng-bind="onlyLanguage"></span>
</div>
<p class="aside ng-scope">
Where should we store our <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__random-slug-id"><span class="ng-scope">currentRandomSlugId</span></span>? We can keep it in memory on our webserver, perhaps with a regular writethrough to the database, to make it persistent even if the webserver crashes. But what if we have multiple front-end webservers?<!-- More on this in the bonus section :)-->
</p>
<p class="ng-scope">
How do we do the base conversion? This is easiest to show by example.
</p>
<p class="ng-scope">
Take the number 125 in base 10.
</p>
<p class="ng-scope">
It has a 1 in the 100s place, a 2 in the 10s place, and a 5 in the 1s place. In general, the places in a base-10 number are:
</p>
<ul class="ng-scope">
<li>
<span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>0</mn></msup></mrow><annotation encoding="application/x-tex">10^0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.814108em;"></span><span class="strut bottom" style="height: 0.814108em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="vlist"><span class="" style="top: -0.363em; margin-right: 0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord">0</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span>​</span></span></span></span></span></span></span>
</li>
<li>
<span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>1</mn></msup></mrow><annotation encoding="application/x-tex">10^1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.814108em;"></span><span class="strut bottom" style="height: 0.814108em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="vlist"><span class="" style="top: -0.363em; margin-right: 0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord">1</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span>​</span></span></span></span></span></span></span>
</li>
<li>
<span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">10^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.814108em;"></span><span class="strut bottom" style="height: 0.814108em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="vlist"><span class="" style="top: -0.363em; margin-right: 0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord">2</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span>​</span></span></span></span></span></span></span>
</li>
<li>
<span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">10^3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.814108em;"></span><span class="strut bottom" style="height: 0.814108em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="vlist"><span class="" style="top: -0.363em; margin-right: 0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord">3</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span>​</span></span></span></span></span></span></span>
</li>
<li>
<em>
etc
</em>
</li>
</ul>
<p class="ng-scope">
The places in a base-<em>62</em> number are:
</p>
<ul class="ng-scope">
<li>
<span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>6</mn><msup><mn>2</mn><mn>0</mn></msup></mrow><annotation encoding="application/x-tex">62^0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.814108em;"></span><span class="strut bottom" style="height: 0.814108em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">6</span><span class="mord"><span class="mord">2</span><span class="vlist"><span class="" style="top: -0.363em; margin-right: 0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord">0</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span>​</span></span></span></span></span></span></span>
</li>
<li>
<span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>6</mn><msup><mn>2</mn><mn>1</mn></msup></mrow><annotation encoding="application/x-tex">62^1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.814108em;"></span><span class="strut bottom" style="height: 0.814108em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">6</span><span class="mord"><span class="mord">2</span><span class="vlist"><span class="" style="top: -0.363em; margin-right: 0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord">1</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span>​</span></span></span></span></span></span></span>
</li>
<li>
<span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>6</mn><msup><mn>2</mn><mn>2</mn></msup><mo>=</mo><mn>3</mn><mo separator="true">,</mo><mn>8</mn><mn>4</mn><mn>4</mn></mrow><annotation encoding="application/x-tex">62^2=3,844</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.814108em;"></span><span class="strut bottom" style="height: 1.00855em; vertical-align: -0.19444em;"></span><span class="base textstyle uncramped"><span class="mord">6</span><span class="mord"><span class="mord">2</span><span class="vlist"><span class="" style="top: -0.363em; margin-right: 0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord">2</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mord">3</span><span class="mpunct">,</span><span class="mord">8</span><span class="mord">4</span><span class="mord">4</span></span></span></span></span>
</li>
<li>
<span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>6</mn><msup><mn>2</mn><mn>3</mn></msup><mo>=</mo><mn>2</mn><mn>3</mn><mn>8</mn><mo separator="true">,</mo><mn>3</mn><mn>2</mn><mn>8</mn></mrow><annotation encoding="application/x-tex">62^3=238,328</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.814108em;"></span><span class="strut bottom" style="height: 1.00855em; vertical-align: -0.19444em;"></span><span class="base textstyle uncramped"><span class="mord">6</span><span class="mord"><span class="mord">2</span><span class="vlist"><span class="" style="top: -0.363em; margin-right: 0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord">3</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mord">2</span><span class="mord">3</span><span class="mord">8</span><span class="mpunct">,</span><span class="mord">3</span><span class="mord">2</span><span class="mord">8</span></span></span></span></span>
</li>
<li>
<em>
etc
</em>
</li>
</ul>
<p class="ng-scope">
So to convert 125 to base-62, we distribute that 125 across these base-62 "places." The highest "place" that can take some is <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>6</mn><msup><mn>2</mn><mn>1</mn></msup></mrow><annotation encoding="application/x-tex">62^1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.814108em;"></span><span class="strut bottom" style="height: 0.814108em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">6</span><span class="mord"><span class="mord">2</span><span class="vlist"><span class="" style="top: -0.363em; margin-right: 0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord">1</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span>​</span></span></span></span></span></span></span>, which is 62. 125/62 is 2, with a remainder of 1. So we put a 2 in the 62's place and a 1 in the 1's place. So our answer is 21.
</p>
<p class="ng-scope">
What about a higher number—say, 7,912?
</p>
<p class="ng-scope">
Now we have enough to put something in the 3,844's place (the <span class="ic-math ng-isolate-scope" ng-class="{&#39;block&#39;: isBlock()}" ng-transclude="" math=""><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>6</mn><msup><mn>2</mn><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">62^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.814108em;"></span><span class="strut bottom" style="height: 0.814108em; vertical-align: 0em;"></span><span class="base textstyle uncramped"><span class="mord">6</span><span class="mord"><span class="mord">2</span><span class="vlist"><span class="" style="top: -0.363em; margin-right: 0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord">2</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span class="" style="font-size: 0em;">​</span></span>​</span></span></span></span></span></span></span>'s place). 7,912 / 3,844 is 2 with a remainder of 224. So we put a 2 in the 3,844's place, and we distribute that remaining 224 across the remaining places—the 62's place and the 1's place. 224 / 62 is 3 with a remainder of 38. So we put a 3 in the 62's place and a 38 in the 1's place. We have this three-digit number: 2 3 38.
</p>
<p class="ng-scope">
Now, that "38" represents <em>one</em> numeral in our base-62 number. So we need to convert that 38 into a specific choice from our set of numerals: a-z, A-Z, and 0-9.
</p>
<p class="ng-scope">
Let's number each of our 62 numerals, like so:
</p>
<div code-block="question__url-shortener__base-62-mappings" language="none" translation-highlighting="static" actual-language="none" class="ng-scope ng-isolate-scope" style="width: 100%;"><pre class="  language-none">  <code class="  language-none" ng-transclude="">0: 0,
1: 1,
2: 2,
3: 3,
...
10: a,
11: b,
12: c,
...
36: A,
37: B,
38: C,
...
62: Z</code>
</pre>
<span class="warning-message ng-binding ng-hide" ng-show="warningMessage" ng-bind="warningMessage"></span>
<div class="select-language-content ng-hide" ng-hide="staticLanguage">
<select ng-model="contentLanguage" ng-options="language.display_name for language in contentLanguages | orderBy: &#39;display_name&#39;" ng-change="updateLanguage(contentLanguage)" class="ng-pristine ng-untouched ng-valid" style="width: 61px;"><option value="0" label="C">C</option><option value="1" label="C#">C#</option><option value="2" label="C++">C++</option><option value="3" label="Java">Java</option><option value="4" selected="selected" label="JavaScript">JavaScript</option><option value="5" label="Objective-C">Objective-C</option><option value="6" label="PHP">PHP</option><option value="7" label="Python">Python</option><option value="8" label="Ruby">Ruby</option><option value="9" label="Swift">Swift</option></select>
</div>
<span class="only-content-language ng-binding" ng-show="staticLanguage" ng-bind="onlyLanguage"></span>
</div>
<p class="ng-scope">
As you can see, our "38th" numeral is "C." So we convert that 38 to a "C." That gives us 23C.
</p>
<!--
TODO:
- example that shows more different letters
- picture-ify this
-->
<p class="aside ng-scope">
Can we convert from slugs back to numbers? Yep, easy. Take 23C, for example. Translate the numerals back to their id numbers, so we get 2 3 38. That 2 is in the 3844's place, so we take 2 * 3844. That 3 is in the 62's place, so we take 3 * 62. That 38 is in the 1's place, so we take 38 * 1. We add up all those results to get our original 7,912.
</p>
<p class="ng-scope">
One potential issue: the <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__random-slug-id"><span class="ng-scope">currentRandomSlugId</span></span> could be
<em>shorter</em> than 7 digits in base-62. We could pad the generate slug with
zeros to force it to be exactly 7 characters. Or we could simply accept
shorter random slugs—we'd just need to make sure our <span class="ic-words ng-isolate-scope" ng-transclude="" words="question__url-shortener__function"><span class="ng-scope">function</span></span> that converts
slugs back to numbers doesn't choke when the slug is fewer than 7 characters.
</p>
<p class="ng-scope">
Another issue is that the <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__random-slug-id"><span class="ng-scope">currentRandomSlugId</span></span> could
give us something that a user has already claimed as a user-generated
slug. We'll need to check for that, and if it happens we'll just
increment the <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__random-slug-id"><span class="ng-scope">currentRandomSlugId</span></span> and try again (and
again, potentially, until we hit a "random" slug that hasn't been used
yet).
</p>
<div code-block="question__url-shortener__generate-random-slug-3" language="none" translation-highlighting="static" actual-language="none" class="ng-scope ng-isolate-scope" style="width: 100%;"><pre class="  language-none">  <code class="  language-none" ng-transclude="">var currentRandomSlugId = 0;

function generateRandomSlug() {
    var slug = "";
    while (1) {
        var newId = currentRandomSlugId++;
        slug = baseConversion(newId, base62Alphabet);

        // make sure the slug isn't already used
        if (!DB.checkSlugExists(slug)) {
            break;
        }
    }
    return slug;
}</code>
</pre>
<span class="warning-message ng-binding ng-hide" ng-show="warningMessage" ng-bind="warningMessage"></span>
<div class="select-language-content ng-hide" ng-hide="staticLanguage">
<select ng-model="contentLanguage" ng-options="language.display_name for language in contentLanguages | orderBy: &#39;display_name&#39;" ng-change="updateLanguage(contentLanguage)" class="ng-pristine ng-untouched ng-valid" style="width: 61px;"><option value="0" label="C">C</option><option value="1" label="C#">C#</option><option value="2" label="C++">C++</option><option value="3" label="Java">Java</option><option value="4" selected="selected" label="JavaScript">JavaScript</option><option value="5" label="Objective-C">Objective-C</option><option value="6" label="PHP">PHP</option><option value="7" label="Python">Python</option><option value="8" label="Ruby">Ruby</option><option value="9" label="Swift">Swift</option></select>
</div>
<span class="only-content-language ng-binding" ng-show="staticLanguage" ng-bind="onlyLanguage"></span>
</div>
<p class="ng-scope">
Okay, this'll work! What's next? Let's look back at our design goals!
</p>
<ol class="ng-scope">
<li>
We should be able to store a <em>lot</em> of links.
</li>
<li>
Our shortlinks should be as short as possible.
</li>
<li>
Following a shortlink should be <em>fast</em>.
</li>
<li>
The shortlink follower should be resilient to load spikes.
</li>
</ol>
<p class="ng-scope">
We're all set on (1) and (2)! Let's start tackling (3) and (4). How do we scale our link follower to be fast and resilient to load spikes?
</p>
<p class="aside ng-scope">
Beware of premature optimization! That always looks bad. Don't just jump around random ideas for optimizations. Instead, focus on asking yourself <em>which thing is likely to bottleneck first</em> and optimizing around that.
</p>
</div>
</div>
<div class="note slide ng-isolate-scope highlight-flash" ng-show="shouldShow()" note="" number="7" type="gotcha" style="display: block;">
    <div class="note-content" ng-transclude="">
<p class="ng-scope">
The database read to get the destination for the given slug is certainly going to be our first bottleneck. In general, database operations usually bottleneck before business logic.
</p>
<!--
TODO: we don't do this anymore
<p>
We can even say that in this specific case, the rest of what we do at our redirect endpoint (string manipulation on the slug) is all constant-time. How?
</>

<ol>
<li>
- first we check the length of the slug. if it's longer than 7 characters (which we can check in constant time), we know it's user-generated so we just do the lookup.
</li>
<li>
- if it's less than 7 characters, we know we're dealing with a small and constant number of characters, so the base conversion is quick.
</li>
</ol>
-->
<p class="ng-scope">
To figure out how to get these reads nice and fast, we should get specific about <em>how</em> we're storing our shortlinks. To start, what kind of database should we use?
</p>
</div>
</div>
<div class="note slide ng-isolate-scope highlight-flash" ng-show="shouldShow()" note="" number="8" type="gotcha" style="display: block;">
    <div class="note-content" ng-transclude="">
<p class="ng-scope">
Database choice is a very broad issue. And it's a contentious one. There are lots of different opinions about how to approach this. Here's how we'll do it:
</p>
<p class="ng-scope">
Broadly (this is definitely a simplification), there are two main types of databases these days:
</p>
<ol class="ng-scope">
<li>
Relational databases (RDBMs) like MySQL and Postgres. <!--, Oracle, and Microsoft SQL Server-->
</li>
<li>
"NoSQL"-style databases like BigTable and Cassandra. <!--, and Hadoop. -->
</li>
</ol>
<p class="ng-scope">
In general (again, this is a simplification), relational databases are great for systems where you expect to make lots of complex queries involving joins and such—in other words, they're good if you're planning to look at the <em>relationships</em> between things a lot. NoSQL databases don't handle these things quite as well, but in exchange they're faster for writes and simple key-value reads.
</p>
<p class="ng-scope">
Looking at our app, it seems like relational queries aren't likely to be a big part of our app's functionality, even if we added a few of the obvious next features we might want. So let's go with NoSQL for this.
</p>
<p class="ng-scope">
Which NoSQL database do we use? Lots of options, each with their own pros and cons. Let's keep our discussion and pseudocode generic for now.
</p>
<p class="aside ng-scope">
We might consider adding an abstraction layer between our application and the database, so that we can change over to a new one if our needs change or if some new hotness comes out.
</p>
<p class="ng-scope">
Okay, so we have our data in a NoSQL-type database. How do we un-bottleneck database reads?
</p>
</div>
</div>
<div class="note slide ng-isolate-scope highlight-flash" ng-show="shouldShow()" note="" number="9" type="gotcha" style="display: block;">
    <div class="note-content" ng-transclude="">
<p class="ng-scope">
The first step is to make sure we're indexing the right way. In a NoSQL context, that means carefully designing our keys. In this case, the obvious choice is right: making the key for each row in the <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__shortlink"><span class="ng-scope">ShortLink</span></span> table be <em>the slug</em>.
</p>
<div class="aside ng-scope">
<p>
If we used a SQL-type database like MySQL or Postgres, we usually default to having our key field be a standard auto-incrementing integer called "id" or "index." But in this case, because we know that slugs will be unique, there's no need for an integer id—the slug is enough of a unique identifier.
</p>
<p>
BUT here's where it gets clever: what if we <em>represented the slug</em> as an auto-incrementing integer field? We'd just have to use our base conversion <span class="ic-words ng-isolate-scope" ng-transclude="" words="question__url-shortener__function"><span class="ng-scope">function</span></span> to convert them to slugs! This would also give us tracking of our global <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__random-slug-id"><span class="ng-scope">currentRandomSlugId</span></span> for free—MySQL would keep track of the highest current id in the table when it auto increments. Careful though: user-generated slugs throw a pretty huge monkey wrench into things with this strategy! How can you maintain uniqueness across user-generated and randomly-generated slugs without breaking the auto-incrementing ids for randomly-generated slugs?
</p>
</div>
<p class="ng-scope">
How else can we speed up database reads?
</p>
<p class="ng-scope">
We could put as much of the data <em>in memory</em> as possible, to avoid disc seeks.
</p>



<p class="ng-scope">
This becomes especially important when we start getting a heavy load of requests to a single link, like if one of our links is on the front page of Reddit. If we have the redirect URL right there in memory, we can process those redirects quickly.
</p>
<p class="ng-scope">
Depending on the database we use, it might already have an in-memory cache system. To get more links in memory, we may be able to configure our database to use more space for its cache.
</p>
<p class="ng-scope">
If reads are still slow, we could research adding a caching layer, like memcached. Importantly, this <em>might</em> not save us time on reads, if the cache on the database is already pretty robust. It adds complexity—we now have two sources of truth, and we need to be careful to keep them in sync. For example, if we let users edit their links, we need to push those edits to both the database and the cache. It could also <em>slow down</em> reads if we have lots of cache misses.
</p>
<p class="ng-scope">
If we <em>did</em> add a caching layer, there are a few things we could talk about:
</p>
<ol class="ng-scope">
<li>
The eviction strategy. If the cache is full, what do we remove to make space? The most common answer is an LRU ("least recently used") strategy.
</li>
<li>
Sharding strategy. Sharding our cache lets us store more stuff in memory, because we can use more machines. But how do we decide which things go on which shard? The common answer is a "hash and mod strategy"—hash the key, mod the result by the number of shards, and you get a shard number to send your request to. But then how do you add or remove a shard without causing an unmanageable spike in cache misses?
</li>
</ol>
<p class="ng-scope">
Of course, we could shard our underlying database instead of, or in addition to caching. If the database has a built-in in-memory cache, sharding the data would allow us to keep more of our data in working memory without an additional caching layer! Database sharding has some of the same challenges as cache sharding. Adding and removing shards can be painful, as can migrating the schema without site downtime. That said, some NoSQL databases have great sharding systems built right in, like Cassandra.
</p>
<p class="ng-scope">
This should get our database reads nice and fast.
</p>
<p class="ng-scope">
The next bottleneck might be processing the actual web requests. To remedy this, we should set up multiple webserver workers. We can put them all behind a load balancer that distributes incoming requests across the workers. Having multiple web servers adds some complexity to our database (and caching layers) that we'll need to consider. They'll need to handle more simultaneous connections, for example. Most databases are pretty good at this by default.
</p>
<p class="ng-scope">
Okay, now our redirects should go pretty quick, and should be resilient to load spikes. We have a solid system that fits all of our design goals!
</p>
<ol class="ng-scope">
<li>
We can store a <em>lot</em> of links.
</li>
<li>
Our shortlinks are as short as possible.
</li>
<li>
Following a shortlink is <em>fast</em>.
</li>
<li>
The shortlink follower is resilient to load spikes.
</li>
</ol>
</div>
</div>

















</div>

    
</div>










<div class="section-wrapper ng-isolate-scope section-bonus slide highlight-flash" ng-class="getSectionClass()" ng-init="ready=false" ng-show="shouldShow()" section="bonus" style="display: block;">
    <h3 class="heading slide ng-binding ng-isolate-scope" ng-show="shouldShow()" ng-bind="::getHeadingText()" heading="bonus" hide-heading="">Bonus</h3>

    <div class="section section-bonus" ng-class="getSectionClass()" ng-transclude="">
<p class="ng-scope">
As with all system design questions, there are a bunch more directions to go into with this one. A few ideas:
</p>
<ol class="ng-scope">
<li>
At some point we'd probably want to consider splitting our link <em>creation</em> endpoint across multiple workers as well. This adds some complexity: how do they stay in sync about what the <span class="ic-variable ng-isolate-scope" ng-transclude="" var="question__url-shortener__random-slug-id"><span class="ng-scope">currentRandomSlugId</span></span> is?
</li>
<li>
Uptime and "single point of failure" (SPOF) are common concerns in system design. Are there any SPOFs in our current architecture? How can we ensure that an individual machine failure won't bring down our whole system?
</li>
<li>
Analytics. What if we wanted to show users some analytics about the links they've created? What anlytics could we show, and how would we store and display them?
</li>
<li>
Editing and deleting. How would we add edit and delete features?
</li>
<li>
Optimizing for implementation time. We built something optimized for scale. How would our system design be different if we were just trying to get an MVP off the ground as quickly as possible?
</li>
</ol>

















</div>

    
</div>
<script type="text/javascript">

            //
            var elTranslations = {"words": {"question__url-shortener__function": {"ruby": "method", "php": "function", "default": "function", "c": "function", "csharp": "method", "objectivec": "function", "python": "function", "javascript": "function", "swift": "function", "java": "method", "cpp": "function"}}, "code-inlines": {"question__url-shortener__url-shortlink-endpoint": {"default": "ca.ke/api/v1/shortlink"}, "question__url-shortener__url-cake-r-slug": {"default": "ca.ke/r/$slug"}, "question__url-shortener__url-about": {"default": "ca.ke/about"}, "question__url-shortener__url-favorite-recipes": {"default": "ca.ke/parkers-favorite-recipes"}, "question__url-shortener__mysite-shortlink": {"default": "ca.ke/mysite"}, "question__url-shortener__url-googlecom": {"default": "google.com"}, "question__url-shortener__url-w-about": {"default": "ca.ke/w/about"}, "question__url-shortener__mysite": {"default": "mysite"}, "question__url-shortener__r09": {"default": "0-9"}, "question__url-shortener__url-cake-slug": {"default": "ca.ke/$slug"}, "question__url-shortener__c0": {"default": "0"}, "question__url-shortener__c5": {"default": "5"}, "question__url-shortener__c7": {"default": "7"}, "question__url-shortener__url-googlecom-cap": {"default": "Google.com"}, "question__url-shortener__a-z": {"default": "a-z"}, "question__url-shortener__c9": {"default": "9"}, "question__url-shortener__url-parkerfoo": {"default": "parker.com/foo"}, "question__url-shortener__special-chars-no-apos": {"default": "$-_.+!*(),"}, "question__url-shortener__c1": {"default": "1"}, "question__url-shortener__url-parkerfoo-cap": {"default": "parker.com/Foo"}, "question__url-shortener__c3": {"default": "3"}, "question__url-shortener__c2": {"default": "2"}, "question__url-shortener__url-parkers-resume": {"default": "ca.ke/parkers-resume"}, "question__url-shortener__c4": {"default": "4"}, "question__url-shortener__url-w": {"default": "/w/"}, "question__url-shortener__c6": {"default": "6"}, "question__url-shortener__special-chars": {"default": "$-_.+!*'(),"}, "question__url-shortener__c8": {"default": "8"}, "question__url-shortener__a-zcap": {"default": "A-Z"}, "question__url-shortener__slug-favorite-recipes": {"default": "parkers-favorite-recipes"}}, "code-blocks": {"question__url-shortener__redirect-endpoint": {"swift": "func redirect(request: Request) -> Response {\n    let destination = DB.getLinkDestination(for: request.getPath())\n    return Response(code: 302, body: destination)\n}", "php": "$destination = $db->getLinkDestination($_GET['slug']);\nheader('Location: ' .$destination, true, 302);  // HTTP 302 REDIRECT\nexit();", "c": {"tests": "// Just make sure it does compile", "actual_language": "c", "code": "Response * redirect(const Request *request)\n{\n    char *destination = dbGetLinkDestination(requestPath(request));\n    return responseNew(302, destination);  // HTTP 302 REDIRECT\n}"}, "csharp": "public Response Redirect(Request request)\n{\n    var destination = DB.GetLinkDestination(request.Path);\n    return new Response(HttpStatus.Found302, destination);  // 302 REDIRECT\n}", "objectivec": {"warning_message": "We're still translating this code to Objective-C. Here it is in C:", "tests": "// Just make sure it does compile", "actual_language": "c", "code": "Response * redirect(const Request *request)\n{\n    char *destination = dbGetLinkDestination(requestPath(request));\n    return responseNew(302, destination);  // HTTP 302 REDIRECT\n}"}, "ruby": "def redirect(request)\n  destination = DB.get({ 'slug' => request.path })['destination']\n  return Response.new(302, destination)\nend", "cpp": "Response redirect(const Request& request) {\n    string destination = DB.getLinkDestination(request.getPath());\n    return Response(302, destination);  // HTTP 302 REDIRECT\n}", "javascript": "function redirect(request) {\n    var destination = DB.getLinkDestination(request.path);\n    return response(302, destination);\n}", "java": "public Response redirect(Request request) {\n    String destination = DB.getLinkDestination(request.getPath());\n    return new Response(HttpStatus.FOUND302, destination);  // 302 REDIRECT\n}", "python": "def redirect(request):\n    destination = DB.get({'slug': request['path']})['destination']\n    return Response(302, destination)"}, "question__url-shortener__models-4": {"default": "ShortLink\n- slug\n- destination"}, "question__url-shortener__models-3": {"default": "Link\n- slug\n- destination"}, "question__url-shortener__models-2": {"camel": "Link\n- slug\n- longLink", "default": "Link\n- slug\n- long_link"}, "question__url-shortener__models-1": {"camel": "Link\n- shortLink\n- longLink", "default": "Link\n- short_link\n- long_link"}, "question__url-shortener__creation-request": {"default": "$ curl --data '{\"destination\": \"interviewcake.com\"}' https://ca.ke/api/v1/shortlink\n{\n  \"slug\": \"ae8uFt\",\n  \"destination\": \"interviewcake.com\"\n}"}, "question__url-shortener__base-62-mappings": {"default": "0: 0,\n1: 1,\n2: 2,\n3: 3,\n...\n10: a,\n11: b,\n12: c,\n...\n36: A,\n37: B,\n38: C,\n...\n62: Z"}, "question__url-shortener__generate-random-slug-3": {"swift": "var currentRandomSlugId = 0\n\nfunc generateRandomSlug() -> String {\n    var slug = \"\"\n    while true {\n        slug = baseConversion(currentRandomSlugId, base62Alphabet)\n        currentRandomSlugId += 1\n\n        // make sure the slug isn't already used\n        if !DB.checkSlugExists(slug) {\n            break\n        }\n    }\n    return slug\n}", "php": "$currentRandomSlugId = 0;\n\nfunction generateRandomSlug()\n{\n    global $currentRandomSlugId;\n    while (true) {\n        $newId = $currentRandomSlugId++;\n        $slug = baseConversion($newId, $base62Alphabet);\n\n        // Make sure that slug isn't already used\n        if (!$db->checkSlugExists($slug)) {\n            break;\n        }\n    }\n    return $slug;\n}", "c": {"tests": "// Just make sure it does compile", "actual_language": "c", "code": "unsigned long long currentRandomSlugId = 0;\nchar * generateRandomSlug(void)\n{\n    char *slug;\n    while (1) {\n        unsigned long long newId = currentRandomSlugId++;\n        slug = baseConversion(newId, base62Alphabet);\n\n        // make sure the slug isn't already used\n        if (!dbCheckSlugExists(slug)) {\n            break;\n        }\n        free(slug);\n    }\n    return slug;\n}"}, "csharp": "private long _currentRandomSlugId = 0;\n\npublic string GenerateRandomSlug()\n{\n    string slug;\n    while (true)\n    {\n        long newId = _currentRandomSlugId++;\n        slug = BaseConversion(newId, Base62Alphabet);\n\n        // Make sure the slug isn't already used\n        if (!DB.CheckSlugExists(slug))\n        {\n            break;\n        }\n    }\n    return slug;\n}", "objectivec": {"warning_message": "We're still translating this code to Objective-C. Here it is in C:", "tests": "// Just make sure it does compile", "actual_language": "c", "code": "unsigned long long currentRandomSlugId = 0;\nchar * generateRandomSlug(void)\n{\n    char *slug;\n    while (1) {\n        unsigned long long newId = currentRandomSlugId++;\n        slug = baseConversion(newId, base62Alphabet);\n\n        // make sure the slug isn't already used\n        if (!dbCheckSlugExists(slug)) {\n            break;\n        }\n        free(slug);\n    }\n    return slug;\n}"}, "ruby": "def generate_random_slug\n  while true\n    slug = base_conversion($current_random_slug_id, base_62_alphabet)\n    $current_random_slug_id += 1\n\n    # make sure the slug isn't already used\n    existing = DB.get({ 'slug' => slug })\n    if existing.nil?\n      return slug\n    end\n  end\nend", "cpp": "unsigned long long currentRandomSlugId = 0;\n\nstring generateRandomSlug()\n{\n    string slug;\n    while (true) {\n        unsigned long long newId = ++currentRandomSlugId;\n        slug = baseConversion(newId, base62Alphabet);\n\n        // make sure the slug isn't already used\n        if(!DB.checkSlugExists(slug)) {\n            break;\n        }\n    }\n    return slug;\n}", "javascript": "var currentRandomSlugId = 0;\n\nfunction generateRandomSlug() {\n    var slug = \"\";\n    while (1) {\n        var newId = currentRandomSlugId++;\n        slug = baseConversion(newId, base62Alphabet);\n\n        // make sure the slug isn't already used\n        if (!DB.checkSlugExists(slug)) {\n            break;\n        }\n    }\n    return slug;\n}", "java": "private long currentRandomSlugId = 0;\n\npublic String generateRandomSlug() {\n    String slug;\n\n    while (true) {\n        long newId = currentRandomSlugId++;\n        slug = baseConversion(newId, base62Alphabet);\n\n        // make sure the slug isn't already used\n        if (!DB.checkSlugExists(slug)) {\n            break;\n        }\n    }\n    return slug;\n}", "python": "def generate_random_slug():\n    global current_random_slug_id\n    while True:\n        slug = base_conversion(current_random_slug_id, base_62_alphabet)\n        current_random_slug_id += 1\n\n        # make sure the slug isn't already used\n        existing = DB.get({'slug': slug})\n        if not existing:\n            return slug"}, "question__url-shortener__generate-random-slug-2": {"swift": "var currentRandomSlugId = 0\nfunc generateRandomSlug() -> String {\n    let slug = baseConversion(currentRandomSlugId, base62Alphabet)\n    currentRandomSlugId += 1\n    return slug\n}", "php": "$currentRandomSlugId = 0;\n\nfunction generateRandomSlug()\n{\n    global $currentRandomSlugId;\n    $newId = $currentRandomSlugId++;\n\n    return baseConversion($newId, $base62Alphabet);\n}", "c": {"tests": "// Just make sure it does compile", "actual_language": "c", "code": "unsigned long long currentRandomSlugId = 0;\nchar * generateRandomSlug(void)\n{\n    unsigned long long newId = currentRandomSlugId++;\n    return baseConversion(newId, base62Alphabet);\n}"}, "csharp": "private long _currentRandomSlugId = 0;\n\npublic string GenerateRandomSlug()\n{\n    long newId = _currentRandomSlugId++;\n    return BaseConversion(newId, Base62Alphabet);\n}", "objectivec": {"warning_message": "We're still translating this code to Objective-C. Here it is in C:", "tests": "// Just make sure it does compile", "actual_language": "c", "code": "unsigned long long currentRandomSlugId = 0;\nchar * generateRandomSlug(void)\n{\n    unsigned long long newId = currentRandomSlugId++;\n    return baseConversion(newId, base62Alphabet);\n}"}, "ruby": "def generate_random_slug\n  slug = base_conversion($current_random_slug_id, base_62_alphabet)\n  $current_random_slug_id += 1\n  return slug\nend", "cpp": "unsigned long long currentRandomSlugId = 0;\nstring generateRandomSlug()\n{\n    unsigned long long newId = ++currentRandomSlugId;\n    return baseConversion(newId, base62Alphabet);\n}", "javascript": "var currentRandomSlugId = 0;\nfunction generateRandomSlug() {\n    var newId = currentRandomSlugId++;\n    return baseConversion(newId, base62Alphabet);\n}", "java": "private long currentRandomSlugId = 0;\n\npublic String generateRandomSlug() {\n    long newId = currentRandomSlugId++;\n    return baseConversion(newId, base62Alphabet);\n}", "python": "def generate_random_slug():\n    global current_random_slug_id\n    slug = base_conversion(current_random_slug_id, base_62_alphabet)\n    current_random_slug_id += 1\n    return slug"}, "question__url-shortener__create-endpoint": {"swift": "func shortlink(request: Request) -> Response {\n    if request.method != .post {\n        return Response(code: 501)  // HTTP 501 NOT IMPLEMENTED\n    }\n\n    let destination = request.data.destination\n\n    // if they did not include a slug, make them one\n    let slug = request.data.slug ?? generateRandomSlug()\n\n    DB.insertLink(slug, destination)\n\n    let responseBody = \"{ 'slug' : '\\(slug)'\"\n\n    return Response(code: 200, body: responseBody)\n}", "php": "if ($_SERVER['REQUEST_METHOD'] != 'POST') {\n    http_response_code(501);  // 501 NOT IMPLEMENTED\n    exit();\n}\n\n$destination = $_POST['destination'];\n\n// if they did not include a slug, make them one\n$slug = $_POST['slug'] ?? generateRandomSlug();\n\n$db->insertLink($slug, $destination);\n\n$responseBody = \"{ 'slug': '\" . $slug . \"' }\";\n\necho $responseBody;\nexit();", "c": {"tests": "// Just make sure it does compile", "actual_language": "c", "code": "char * slugToJson(const char *slug)\n{\n    char format[] = \"{ 'slug' : '%s'; }\";\n    size_t size = strlen(format) + strlen(slug) - 2 /* %s */ + 1 /* \\0 */;\n    char *asJson = malloc(size);  // Should check for NULL\n    snprintf(asJson, size, \"{ 'slug' : '%s'; }\", slug);\n    return asJson;\n}\n\nResponse * shortlink(const Request *request)\n{\n    if (requestMethod(request) != REQUEST_METHOD_POST) {\n        return responseNew(501, \"\");  // HTTP 501 NOT IMPLEMENTED\n    }\n\n    char *destination = requestDestination(request);\n    char *slug = requestSlug(request);\n\n    // if they did not include a slug, make them one\n    if (slug == NULL) {\n        slug = generateRandomSlug();\n    }\n\n    dbInsertLink(slug, destination);\n    char *response_body = slugToJson(slug);\n    return responseNew(200, response_body);  // HTTP 200 OK\n}", "setup": "char * generateRandomSlug(void) { return NULL; }"}, "csharp": "public Response Shortlink(Request request)\n{\n    if (request.Method != HttpMethod.Post)\n    {\n        return new Response(HttpStatus.Error501);  // 501 NOT IMPLEMENTED\n    }\n\n    var destination = request.Data.Destination;\n    var slug = request.Data.Slug;\n\n    // If they did not include a slug, make them one\n    if (string.IsNullOrEmpty(slug))\n    {\n        slug = GenerateRandomSlug();\n    }\n\n    DB.InsertLink(slug, destination);\n\n    var responseBody = \"{ 'slug': '\" + slug + \"' }\";\n    return new Response(HttpStatus.Ok200, responseBody);\n}", "objectivec": {"warning_message": "We're still translating this code to Objective-C. Here it is in C:", "tests": "// Just make sure it does compile", "actual_language": "c", "code": "char * slugToJson(const char *slug)\n{\n    char format[] = \"{ 'slug' : '%s'; }\";\n    size_t size = strlen(format) + strlen(slug) - 2 /* %s */ + 1 /* \\0 */;\n    char *asJson = malloc(size);  // Should check for NULL\n    snprintf(asJson, size, \"{ 'slug' : '%s'; }\", slug);\n    return asJson;\n}\n\nResponse * shortlink(const Request *request)\n{\n    if (requestMethod(request) != REQUEST_METHOD_POST) {\n        return responseNew(501, \"\");  // HTTP 501 NOT IMPLEMENTED\n    }\n\n    char *destination = requestDestination(request);\n    char *slug = requestSlug(request);\n\n    // if they did not include a slug, make them one\n    if (slug == NULL) {\n        slug = generateRandomSlug();\n    }\n\n    dbInsertLink(slug, destination);\n    char *response_body = slugToJson(slug);\n    return responseNew(200, response_body);  // HTTP 200 OK\n}", "setup": "char * generateRandomSlug(void) { return NULL; }"}, "ruby": "def shortlink(request)\n  if request.method != 'POST'\n    return Response.new(501)  # HTTP 501 NOT IMPLEMENTED\n  end\n\n  destination = request.data.destination\n\n  # if they included a slug, use that\n  if !request.data.slug.nil?\n    slug = request.data.slug\n\n  # else, make them one\n  else\n    slug = generate_random_slug\n  end\n\n  DB.insert({ 'slug' => slug, 'destination' => destination })\n\n  response_body = { \"slug\" => slug }\n\n  return Response.new(200, response_body.to_json)  # HTTP 200 OK\nend", "cpp": "Response shortlink(const Request& request)\n{\n    if(request.method != REQUEST_METHOD_POST) {}\n        return Response(501);  // HTTP 501 NOT IMPLEMENTED\n    }\n\n    string destination = request.getData().getDestination();\n    string slug = request.getData().getSlug();\n\n    // if they did not include a slug, make them one\n    if(slug.empty()) {\n        slug = generateRandomSlug();\n    }\n\n    DB.insertLink(slug, destination);\n\n    string response_body = \"{ 'slug' : '\" + slug + \"' }\";\n\n    return Response(200, response_body);  // HTTP 200 OK\n}", "javascript": "function shortlink(request) {\n    if (request.method !== 'POST') {\n        return response(501);  // HTTP 501 NOT IMPLEMENTED\n    }\n\n    var destination = request.data.destination;\n    var slug = request.data.slug;\n\n    // if they did not include a slug, make them one\n    if (typeof slug === 'undefined') {\n        slug = generateRandomSlug();\n    }\n\n    DB.insertLink(slug, destination);\n\n    var responseBody = JSON.stringify({'slug': slug});\n    return response(200, responseBody);\n}", "java": "public Response shortlink(Request request) {\n    if (request.method() != HttpMethod.POST) {\n        return new Response(HttpStatus.ERROR501);  // 501 NOT IMPLEMENTED\n    }\n\n    String destination = request.getData().getDestination();\n    String slug = request.getData().getSlug();\n\n    // if the request did not include a slug, make a new one\n    if (slug == null) {\n        slug = generateRandomSlug();\n    }\n\n    DB.insertLink(slug, destination);\n\n    String responseBody = String.format(\"{'slug':'%s'}\", slug);\n\n    return new Response(HttpStatus.OK200, responseBody);\n}", "python": "def shortlink(request):\n    if request['method'] is not 'POST':\n        return Response(501)  # HTTP 501 NOT IMPLEMENTED\n\n    destination = request['data']['destination']\n\n    # if they included a slug, use that\n    if 'slug' in request['data']:\n        slug = request['data']['slug']\n\n    # else, make them one\n    else:\n        slug = generate_random_slug()\n\n    DB.insert({'slug': slug, 'destination': destination})\n\n    response_body = {\n        'slug': slug,\n    }\n\n    return Response(200, json.dumps(response_body))  # HTTP 200 OK"}, "question__url-shortener__generate-random-slug-1": {"swift": "func generateRandomSlug() -> String {\n    let alphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\"\n    let alphabetLength = UInt32(alphabet.characters.count)\n    let numChars = 7\n    var randomSlug = \"\"\n\n    for _ in 0..&lt;numChars {\n        let rand = Int(arc4random_uniform(alphabetLength))\n        let index = alphabet.index(alphabet.startIndex, offsetBy: rand)\n        let nextChar = alphabet.characters[index]\n        randomSlug += String(nextChar)\n    }\n\n    return randomSlug\n}", "php": "function generateRandomSlug()\n{\n    $alphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    $numChars = 7;\n\n    $result = [];\n    for ($i = 0; $i &lt; $numChars; $i++) {\n        $randomIndex = rand(0, strlen($alphabet)-1);\n        $result[] = $alphabet[$randomIndex];\n    }\n    return implode($result);\n}", "c": {"tests": "// Just make sure it does compile", "actual_language": "c", "code": "char * generateRandomSlug(void)\n{\n    size_t i;\n    const char alphabet[] = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    const size_t alphabetLength = strlen(alphabet);\n    const size_t numChars = 7;\n    char *result = malloc(numChars + 1);  // Should check for NULL\n    for (i = 0; i &lt; numChars; i++) {\n        size_t randomIndex = getRandomInRange(0, alphabetLength - 1);\n        result[i] = alphabet[randomIndex];\n    }\n    return result;\n}"}, "csharp": "private const string Alphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\nprivate const int NumChars = 7;\nprivate Random _random = new Random();\n\npublic string GenerateRandomSlug()\n{\n    var result = new char[NumChars];\n    for (int i = 0; i &lt; NumChars; i++)\n    {\n        var randomIndex = _random.Next(Alphabet.Length);\n        result[i] = Alphabet[randomIndex];\n    }\n    return new string(result);\n}", "objectivec": {"warning_message": "We're still translating this code to Objective-C. Here it is in C:", "tests": "// Just make sure it does compile", "actual_language": "c", "code": "char * generateRandomSlug(void)\n{\n    size_t i;\n    const char alphabet[] = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    const size_t alphabetLength = strlen(alphabet);\n    const size_t numChars = 7;\n    char *result = malloc(numChars + 1);  // Should check for NULL\n    for (i = 0; i &lt; numChars; i++) {\n        size_t randomIndex = getRandomInRange(0, alphabetLength - 1);\n        result[i] = alphabet[randomIndex];\n    }\n    return result;\n}"}, "ruby": "def generate_random_slug\n  alphabet = []\n  alphabet.push(*('A'..'Z').to_a)\n  alphabet.push(*('a'..'z').to_a)\n  alphabet.push(*('0'..'9').to_a)\n  num_chars = 7\n  return alphabet.sample(num_chars).join('')\nend", "cpp": "// defined elsewhere\nsize_t getRandomInRange(size_t lower, size_t upper);\n\nstring generateRandomSlug()\n{\n    const char * alphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    const size_t alphabetLength = strlen(alphabet);\n    const size_t numChars = 7;\n    string result;\n    for(size_t i = 0; i &lt; numChars; ++i) {\n        size_t randomIndex = getRandomInRange(0, alphabetLength - 1);\n        result += alphabet[randomIndex];\n    }\n    return result;\n}", "javascript": "function getRandom(floor, ceiling) {\n    return Math.floor(Math.random() * (ceiling - floor + 1)) + floor;\n}\n\nfunction generateRandomSlug() {\n    var alphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    var numChars = 7;\n    var result = \"\";\n\n    for (var i = 0; i &lt; numChars; i++) {\n        var randomIndex = getRandom(0, alphabet.length - 1);\n        result += alphabet[randomIndex];\n    }\n    return result;\n}", "java": "private static final int NUM_CHARS_IN_SLUG = 7;\nprivate static final String ALPHABET = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n\nprivate Random random = new Random();\n\npublic String generateRandomSlug() {\n    char[] result = new char[NUM_CHARS_IN_SLUG];\n\n    for (int i = 0; i &lt; NUM_CHARS_IN_SLUG; i++) {\n        int randomIndex = random.nextInt(ALPHABET.length() - 1);\n        result[i] = alphabet.charAt(randomIndex);\n    }\n\n    return new String(result);\n}", "python": "def generate_random_slug():\n    alphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\"\n    num_chars = 7\n    return ''.join([random.choice(alphabet) for _ in xrange(num_chars)])"}, "setup": {"ruby": "# nothing to test yet", "php": "// nothing to test yet", "c": "// Testing if code does compile is better than testing nothing\n// (but actually nothing to test yet)\n\n// DB\nvoid dbInsertLink(const char *slug, const char *destination) {}\nchar * dbGetLinkDestination(const char *slug) { return NULL; }\nint dbCheckSlugExists(const char *slug) { return 0; }\n\n// Request\nconst int REQUEST_METHOD_POST = 0;\ntypedef struct Request {} Request;\nchar * requestDestination(const Request *request) { return NULL; }\nchar * requestSlug(const Request *request) { return NULL; }\nint requestMethod(const Request *request) { return REQUEST_METHOD_POST; }\nchar * requestPath(const Request *request) { return NULL; }\n\n// Response\ntypedef struct Response {} Response;\nResponse * responseNew(int status, const char *body) { return NULL; }\n\n// Slug generation utilities\nsize_t getRandomInRange(size_t lower, size_t upper) { return 0; }\nchar * baseConversion(unsigned long long number, char *alphabet) { return NULL; }\nconst char base62Alphabet[] = \"\";", "csharp": "// Nothing to test yet", "objectivec": {"warning_message": "We're still translating this code to Objective-C. Here it is in C:", "code": "// Testing if code does compile is better than testing nothing\n// (but actually nothing to test yet)\n\n// DB\nvoid dbInsertLink(const char *slug, const char *destination) {}\nchar * dbGetLinkDestination(const char *slug) { return NULL; }\nint dbCheckSlugExists(const char *slug) { return 0; }\n\n// Request\nconst int REQUEST_METHOD_POST = 0;\ntypedef struct Request {} Request;\nchar * requestDestination(const Request *request) { return NULL; }\nchar * requestSlug(const Request *request) { return NULL; }\nint requestMethod(const Request *request) { return REQUEST_METHOD_POST; }\nchar * requestPath(const Request *request) { return NULL; }\n\n// Response\ntypedef struct Response {} Response;\nResponse * responseNew(int status, const char *body) { return NULL; }\n\n// Slug generation utilities\nsize_t getRandomInRange(size_t lower, size_t upper) { return 0; }\nchar * baseConversion(unsigned long long number, char *alphabet) { return NULL; }\nconst char base62Alphabet[] = \"\";", "actual_language": "c"}, "cpp": "// nothing to test yet", "javascript": "// nothing to test yet", "swift": {"warning_message": "We're still translating this code to Swift. Here it is in Java:", "code": "// nothing to test yet", "actual_language": "java"}, "java": "// nothing to test yet", "python": "# nothing to test yet"}}, "funcs": {"question__url-shortener__generate_random_slug": {"camel": "generateRandomSlug", "default": "generate_random_slug", "csharp": "GenerateRandomSlug"}}, "vars": {"question__url-shortener__short_link": {"camel": "shortLink", "default": "short_link"}, "question__url-shortener__long_link": {"camel": "longLink", "default": "long_link"}, "question__url-shortener__destination": {"default": "destination"}, "question__url-shortener__dollar-slug": {"default": "$slug"}, "question__url-shortener__shortlink": {"default": "ShortLink"}, "question__url-shortener__random-slug-id": {"camel": "currentRandomSlugId", "snake": "current_random_slug_id", "php": "$currentRandomSlugId"}, "question__url-shortener__link": {"default": "Link"}, "question__url-shortener__slug": {"default": "slug"}}};
            //
            var codeTypes = ['words', 'code-blocks', 'vars', 'funcs', 'code-inlines'];

            var mergeObjects = function(objectA, objectB) {
                objectA = objectA || {};
                objectB = objectB || {};
                for (var key in objectB) {
                    objectA[key] = objectB[key];
                }
                return objectA;
            }

            if (!window.contentTranslations) {
                window.contentTranslations = elTranslations;
            } else {
                for (var i=0; i<codeTypes.length; i++) {
                    window.contentTranslations[codeTypes[i]] = mergeObjects(window.contentTranslations[codeTypes[i]], elTranslations[codeTypes[i]]);
                }
            }
            </script>
</div>


    </div>

    <div class="btn-sets">

        <p class="prompt ng-binding" ng-bind="getPromptStr()" ng-hide="&#39;full&#39; !== &#39;full&#39; &amp;&amp; endedQuestion">Did you get it right?</p>

        <div class="btn-set btn-set-during ng-hide" ng-show="isSingleTrack &amp;&amp; getBtnSet()==&#39;during&#39;" style="">
                <a ng-click="showPress()" id="btn-show" class="btn btn-default btn-large" style=""><span class="glyphicon glyphicon-chevron-down"></span><span class="text ng-binding" ng-bind="getShowBtnText()">Show answer</span></a>
        </div>

        <div class="btn-set btn-set-during ng-hide" ng-show="!isSingleTrack &amp;&amp; getBtnSet()==&#39;during&#39;">
                <a ng-click="haveAnswerPress()" id="btn-got-it" class="btn btn-default btn-large" style=""><span class="glyphicon glyphicon-ok"></span><span class="text ng-binding" ng-bind="getHaveAnswerBtnText()">Yes, check answer!</span></a>
                <a ng-click="dontHaveAnswerPress()" id="btn-hint" class="btn btn-default btn-large" style=""><span class="fa fa-question"></span><span class="text ng-binding" ng-bind="getDontHaveAnswerBtnText()">I give up!</span></a>
        </div>

        
            <div class="btn-set btn-set-after-option" ng-show="getBtnSet()==&#39;after-option&#39;" style="">
                    <a ng-click="feelExpertPress()" id="btn-feel-good" class="btn btn-default btn-large" style=""><span class="glyphicon glyphicon-ok"></span><span class="text">Yes, I'm expert on this</span></a>
                    <a ng-click="dontFeelExpertPress()" id="btn-need-review" class="btn btn-default btn-large" style=""><span class="glyphicon glyphicon-repeat"></span><span class="text">Not quite, review later</span></a>
            </div>
            <div class="btn-set btn-set-after-must-review ng-hide" ng-show="getBtnSet()==&#39;after-must-review&#39;">
                    <a ng-click="nextQuestionPress()" id="btn-next" class="btn btn-default btn-large" style=""><span class="glyphicon glyphicon-chevron-right"></span><span class="text">Next question</span></a>
            </div>
        

        <div class="share-btns share-btns-quiz-end" ng-show="getBtnSet()==&#39;after-option&#39;" style="">
            <p>
                Like this problem? Pass it on!
            </p>

            


<a class="custom-share facebook-share ng-isolate-scope" href="https://www.facebook.com/sharer/sharer.php?u=https%3A//www.interviewcake.com/question/javascript/url-shortener" target="_blank" tracklink="" the-event="FB share click" the-properties="{&quot;which&quot; : &quot;post-question option&quot;}"><i class="fa fa-facebook"> </i> Share</a>


<a class="custom-share twitter-share ng-isolate-scope" href="https://twitter.com/intent/tweet?text=Solved%20this%20coding%20interview%20question%21&amp;via=interviewcake&amp;related=interviewcake&amp;url=https%3A//www.interviewcake.com/question/javascript/url-shortener" target="_blank" tracklink="" the-event="Twitter share click" the-properties="{&quot;which&quot; : &quot;post-question option&quot;}"><i class="fa fa-twitter"> </i> Tweet</a>


<a class="custom-share linkedin-share ng-isolate-scope" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A//www.interviewcake.com/question/javascript/url-shortener&amp;title=&amp;summary=Solved%20this%20coding%20interview%20question%21&amp;source=Interview%20Cake" target="_blank" tracklink="" the-event="LinkedIn share click" the-properties="{&quot;which&quot; : &quot;post-question option&quot;}"><i class="fa fa-linkedin"> </i> Share</a>



        </div>
        <div class="share-btns share-btns-quiz-end ng-hide" ng-show="getBtnSet()==&#39;after-must-review&#39;">
            <p>
                Like this problem? Pass it on!
            </p>

            


<a class="custom-share facebook-share ng-isolate-scope" href="https://www.facebook.com/sharer/sharer.php?u=https%3A//www.interviewcake.com/question/javascript/url-shortener" target="_blank" tracklink="" the-event="FB share click" the-properties="{&quot;which&quot; : &quot;post-question must review&quot;}"><i class="fa fa-facebook"> </i> Share</a>


<a class="custom-share twitter-share ng-isolate-scope" href="https://twitter.com/intent/tweet?text=Tough%20coding%20interview%20question%21&amp;via=interviewcake&amp;related=interviewcake&amp;url=https%3A//www.interviewcake.com/question/javascript/url-shortener" target="_blank" tracklink="" the-event="Twitter share click" the-properties="{&quot;which&quot; : &quot;post-question must review&quot;}"><i class="fa fa-twitter"> </i> Tweet</a>


<a class="custom-share linkedin-share ng-isolate-scope" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A//www.interviewcake.com/question/javascript/url-shortener&amp;title=&amp;summary=Tough%20coding%20interview%20question%21&amp;source=Interview%20Cake" target="_blank" tracklink="" the-event="LinkedIn share click" the-properties="{&quot;which&quot; : &quot;post-question must review&quot;}"><i class="fa fa-linkedin"> </i> Share</a>


        </div>

    </div>

</div>
</div>


</div>


        
        
        

        

            <div id="print-footer">
                <p>
                    Want more coding interview help?
                </p>

                <p>
                    Check out <span class="url">interviewcake.com</span> for more advice, guides, and practice questions.
                </p>
            </div>

            <div id="footer">

                
                <a class="newsletter-link" href="https://www.interviewcake.com/free-weekly-coding-interview-problem-newsletter">
                    
                    Subscribe to our weekly question email list »
                </a>
                

                
                <div class="links">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="by-company">
                                    <h5>
                                        Programming interview questions by company:
                                    </h5>
                                    <ul>
                                        <li>
                                            <a href="https://www.interviewcake.com/google-interview-questions">Google interview questions</a>
                                        </li>
                                        <li>
                                            <a href="https://www.interviewcake.com/facebook-interview-questions">Facebook interview questions</a>
                                        </li>
                                        <li>
                                            <a href="https://www.interviewcake.com/amazon-interview-questions">Amazon interview questions</a>
                                        </li>
                                        <li>
                                            <a href="https://www.interviewcake.com/uber-interview-questions">Uber interview questions</a>
                                        </li>
                                        <li>
                                            <a href="https://www.interviewcake.com/microsoft-interview-questions">Microsoft interview questions</a>
                                        </li>
                                        <li>
                                            <a href="https://www.interviewcake.com/apple-interview-questions">Apple interview questions</a>
                                        </li>
                                        <li>
                                            <a href="https://www.interviewcake.com/netflix-interview-questions">Netflix interview questions</a>
                                        </li>
                                        <li>
                                            <a href="https://www.interviewcake.com/dropbox-interview-questions">Dropbox interview questions</a>
                                        </li>
                                        <li>
                                            <a href="https://www.interviewcake.com/ebay-interview-questions">eBay interview questions</a>
                                        </li>
                                        <li>
                                            <a href="https://www.interviewcake.com/linkedin-interview-questions">LinkedIn interview questions</a>
                                        </li>
                                        <li>
                                            <a href="https://www.interviewcake.com/oracle-interview-questions">Oracle interview questions</a>
                                        </li>
                                        <li>
                                            <a href="https://www.interviewcake.com/paypal-interview-questions">PayPal interview questions</a>
                                        </li>
                                        <li>
                                            <a href="https://www.interviewcake.com/yahoo-interview-questions">Yahoo interview questions</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="by-language">
                                    <h5>
                                        Programming interview questions by language:
                                    </h5>
                                    <ul>
                                        <li>
                                            <a href="https://www.interviewcake.com/sql-interview-questions">SQL interview questions</a>
                                        </li>
                                        <li>
                                            <a href="https://www.interviewcake.com/testing-and-qa-interview-questions">Testing and QA interview questions</a>
                                        </li>
                                        <li>
                                            <a href="https://www.interviewcake.com/java-interview-questions">Java interview questions</a>
                                        </li>
                                        <li>
                                            <a href="https://www.interviewcake.com/python-interview-questions">Python interview questions</a>
                                        </li>
                                        <li>
                                            <a href="https://www.interviewcake.com/ruby-interview-questions">Ruby interview questions</a>
                                        </li>
                                        <li>
                                            <a href="https://www.interviewcake.com/javascript-interview-questions">JavaScript interview questions</a>
                                        </li>
                                        <li>
                                            <a href="https://www.interviewcake.com/cpp-interview-questions">C++ interview questions</a>
                                        </li>
                                        <li>
                                            <a href="https://www.interviewcake.com/c-interview-questions">C interview questions</a>
                                        </li>
                                        <li>
                                            <a href="https://www.interviewcake.com/swift-interview-questions">Swift interview questions</a>
                                        </li>
                                        <li>
                                            <a href="https://www.interviewcake.com/objective-c-interview-questions">Objective-C interview questions</a>
                                        </li>
                                        <li>
                                            <a href="https://www.interviewcake.com/php-interview-questions">PHP interview questions</a>
                                        </li>
                                        <li>
                                            <a href="https://www.interviewcake.com/c-sharp-interview-questions">C# interview questions</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                

                
                <div class="social-media">
                    <a class="facebook ng-isolate-scope" href="https://www.facebook.com/interviewcake" target="_blank" tracklink="" the-event="FB footer click"><i class="fa fa-facebook"></i></a>
                    <a class="twitter ng-isolate-scope" href="https://www.twitter.com/interviewcake" target="_blank" tracklink="" the-event="Twitter footer click"><i class="fa fa-twitter"></i></a>
                </div>
                

                
                    <div itemscope="" itemtype="http://schema.org/Corporation">
                        <span class="schemaorghide" itemprop="description">Programming interview practice and tips for software engineers looking for jobs.</span>
                        Copyright © 2018
                        <span itemprop="name">Cake Labs, Inc.</span> All rights reserved.
                        <span class="schemaorghide" itemprop="image">https://www.interviewcake.com/static//images/cake_white_on_blue_600.png</span>
                        <span class="schemaorghide" itemprop="logo">https://www.interviewcake.com/static//images/cake_white_on_blue_600.png</span>
                        <span class="schemaorghide" itemprop="url">https://www.interviewcake.com</span>
                        <span class="schemaorghide" itemprop="telephone">(804) 876-2253</span>

                        <address itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress">
                            <span itemprop="streetAddress">228 Park Ave S #82632</span>,
                            <span itemprop="addressLocality">New York</span>,
                            <span itemprop="addressRegion">NY</span>
                            <span itemprop="addressCountry">US</span>
                            <span itemprop="postalCode">10003</span>
                            <span itemprop="telephone">(804) 876-2253</span>
                        </address>

                        <address class="schemaorghide" itemprop="location" itemscope="" itemtype="http://schema.org/PostalAddress">
                            <span itemprop="addressCountry">US</span>
                            <span itemprop="addressLocality">New York</span>
                            <span itemprop="addressRegion">NY</span>
                            <span itemprop="streetAddress">228 Park Ave S #82632</span>
                            <span itemprop="postalCode">10003</span>
                            <span itemprop="telephone">(804) 876-2253</span>
                        </address>

                        <div itemprop="location" itemscope="" itemtype="http://schema.org/Place">
                            <div itemprop="geo" itemscope="" itemtype="http://schema.org/GeoCoordinates">
                                <meta itemprop="latitude" content="37.76480">
                                <meta itemprop="longitude" content="-122.41872">
                            </div>
                        </div>
                    </div>
                

                <div>
                    <a href="https://www.interviewcake.com/about">About</a>
                    |
                    <a rel="nofollow" href="https://www.interviewcake.com/privacy-policy">Privacy</a>
                    |
                    <a rel="nofollow" href="https://www.interviewcake.com/terms-and-conditions">Terms</a>
                </div>

                
                <a class="jobs-link" href="https://www.interviewcake.com/jobs">
                    
                    Come work with us!
                </a>
                

            </div>

        

    </div>



</div> <!-- .left-panel -->

<div class="right-panel">
    <div ng-controller="EditorCtrl" class="editor-container ng-scope" ng-class="{ &#39;editor-open-or-opening&#39;: editorOpenOrOpening }">

    <button class="show-editor" ng-class="{ &#39;hide-editor&#39;: editorOpenOrPartlyOpen }" ng-click="editorOpenOrOpening ? closeEditor() : openEditor()">
        Editor
    </button>

    <div class="ace-container" ng-class="{ &#39;results-open&#39;: resultsOpenOrOpening }">
        <div ui-ace="{
                onLoad : aceLoaded,
                advanced: {
                    enableBasicAutocompletion: true,
                }}" ng-model="userCode" class="ng-pristine ng-untouched ng-valid ace_editor ace-monokai ace_dark"><textarea class="ace_text-input" wrap="off" autocorrect="off" autocapitalize="off" spellcheck="false" style="opacity: 0; height: 16px; width: 7.20125px; left: 45px; top: 8px;"></textarea><div class="ace_gutter"><div class="ace_layer ace_gutter-layer ace_folding-enabled" style="margin-top: 8px; height: 786px; width: 41px;"><div class="ace_gutter-cell " style="height: 16px;">1<span class="ace_fold-widget ace_start ace_open" style="height: 16px;"></span></div><div class="ace_gutter-cell " style="height: 16px;">2</div><div class="ace_gutter-cell " style="height: 16px;">3</div><div class="ace_gutter-cell " style="height: 16px;">4</div><div class="ace_gutter-cell " style="height: 16px;">5</div><div class="ace_gutter-cell " style="height: 16px;">6</div><div class="ace_gutter-cell " style="height: 16px;">7</div><div class="ace_gutter-cell " style="height: 16px;">8</div></div><div class="ace_gutter-active-line" style="display: none;"></div></div><div class="ace_scroller" style="left: 41px; right: 0px; bottom: 0px;"><div class="ace_content" style="margin-top: 8px; width: 679px; height: 786px; margin-left: 0px;"><div class="ace_layer ace_print-margin-layer"><div class="ace_print-margin" style="left: 580.1px; visibility: hidden;"></div></div><div class="ace_layer ace_marker-layer"></div><div class="ace_layer ace_text-layer" style="padding: 0px 4px;"><div class="ace_line" style="height:16px"><span class="ace_keyword">def</span> <span class="ace_identifier">my_function</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">arg</span><span class="ace_paren ace_rparen">)</span>:</div><div class="ace_line" style="height:16px">    <span class="ace_comment"># write the body of your function here</span></div><div class="ace_line" style="height:16px">    <span class="ace_keyword">return</span> <span class="ace_string">'running with %s'</span> <span class="ace_keyword ace_operator">%</span> <span class="ace_identifier">arg</span></div><div class="ace_line" style="height:16px"></div><div class="ace_line" style="height:16px"><span class="ace_comment"># run your function through some test cases here</span></div><div class="ace_line" style="height:16px"><span class="ace_comment"># remember: debugging is half the battle!</span></div><div class="ace_line" style="height:16px"><span class="ace_keyword">print</span> <span class="ace_identifier">my_function</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">'test input'</span><span class="ace_paren ace_rparen">)</span></div><div class="ace_line" style="height:16px"></div></div><div class="ace_layer ace_marker-layer"></div><div class="ace_layer ace_cursor-layer ace_hidden-cursors"><div class="ace_cursor" style="left: 4px; top: 0px; width: 7.20125px; height: 16px;"></div></div></div></div><div class="ace_scrollbar ace_scrollbar-v" style="display: none; width: 20px; bottom: 0px;"><div class="ace_scrollbar-inner" style="width: 20px; height: 144px;"></div></div><div class="ace_scrollbar ace_scrollbar-h" style="display: none; height: 20px; left: 41px; right: 0px;"><div class="ace_scrollbar-inner" style="height: 20px; width: 720px;"></div></div><div style="height: auto; width: auto; top: 0px; left: 0px; visibility: hidden; position: absolute; white-space: pre; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; overflow: hidden;"><div style="height: auto; width: auto; top: 0px; left: 0px; visibility: hidden; position: absolute; white-space: pre; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; overflow: visible;"></div><div style="height: auto; width: auto; top: 0px; left: 0px; visibility: hidden; position: absolute; white-space: pre; font-style: inherit; font-variant: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; overflow: visible;">XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</div></div></div>

        <select id="select-language-editor-width-hack" style="display: none;">
            <option value="">Python</option>
        </select>

        <div class="select-language-editor">
            <select ng-model="selectedLanguage" ng-options="language.display_name_without_beta for language in aceLanguages |
                        orderBy: [&#39;-dropdown_bottom&#39;, &#39;display_name&#39;]" ng-change="selectedFromLanguageDropdown()" class="ng-pristine ng-untouched ng-valid" style="width: 72px;"><option value="0" label="C">C</option><option value="1" label="C#">C#</option><option value="2" label="C++">C++</option><option value="3" label="Go">Go</option><option value="4" label="Haskell">Haskell</option><option value="5" label="Java">Java</option><option value="6" label="JavaScript">JavaScript</option><option value="7" label="Objective-C">Objective-C</option><option value="8" label="PHP">PHP</option><option value="9" selected="selected" label="Python">Python</option><option value="10" label="Ruby">Ruby</option><option value="11" label="Swift">Swift</option><option value="12" label="Plain text">Plain text</option></select>
        </div>

        <i class="fa fa-chevron-up ng-hide" ng-click="openResults()" ng-hide="hasCodeNeverBeenRun || resultsOpenOrOpening">
        </i>

        <button class="run-code" ng-click="runCode(); openResults(); hasCodeNeverBeenRun = false" ng-disabled="runningCode" ng-show="selectedLanguage.codewars">
            Run
        </button>
    </div>

    <div class="results-container" ng-class="{ &#39;running-code&#39;: runningCode }">
        <i class="fa fa-chevron-down" ng-click="closeResults()"></i>

        <div class="results">
            <p class="output help ng-binding ng-hide" ng-show="outputHelp" ng-bind="outputHelp"></p>
            <p class="output ng-binding ng-hide" ng-show="output" ng-bind="output"></p>
            <p class="output error ng-binding ng-hide" ng-show="outputError" ng-bind="outputError"></p>
        </div>

        <p class="qualified-io">Powered by qualified.io</p>
    </div>
</div>

</div>

</div> <!-- .panel-wrapper -->



    
        <script src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/jquery.min.js"></script>
        <script src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/bootstrap.min.js"></script>
        <script src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/angular.min.js"></script>
        <script src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/angular-route.min.js"></script>
        <script src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/angular-cookies.min.js"></script>
        <script src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/angular-animate.min.js"></script>
        <script src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/katex.min.js"></script>
    

    
        <script src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/underscore-min.js"></script>
        <script src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/angular-django-rest-resource.js"></script>
        <script src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/angular-seo.js"></script>
        <script src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/sticky.js"></script>
    

    <script type="text/javascript">
        (function(){
  var FLAGS = {
    'learnings': true,'only_3_free_questions': true,'allow_anonymous_purchase': true,'data_structures_deployed': false,'tell_me_more': true
    },
    SWITCHES = {
    
    },
    SAMPLES = {
    
    };
  window.waffle = {
    "flag_is_active": function waffle_flag(flag_name) {
      
      return !!FLAGS[flag_name];
    },
    "switch_is_active": function waffle_switch(switch_name) {
      
      return !!SWITCHES[switch_name];
    },
    "sample_is_active": function waffle_sample(sample_name) {
      
      return !!SAMPLES[sample_name];
    },
    "FLAGS": FLAGS,
    "SWITCHES": SWITCHES,
    "SAMPLES": SAMPLES
  };
})();

    </script>

    
        <script>
            // in base.html we use editor_enabled to conditionally load ui-ace.js
            // so in base.js we need editor_enabled to conditionally load the ui.ace module
            window.IC.editor_enabled = true;
        </script>
    

    <script src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/base.js"></script>

    
        <script src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/prism.min.js"></script>
        <script src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/jquery.payment.js"></script>
        <script src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/edgeUtils.js"></script>

        
            <script src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/ace.js" type="text/javascript" charset="utf-8"></script>
            <script src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/ui-ace.js" type="text/javascript"></script>
            <script src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/ext-language_tools.js" type="text/javascript"></script>
        

    

    

    <script type="text/javascript">
        window.CACHEBUST_QUERY_STR = '?bust=164';
        // TODO: move above into the below
        window.JS_CONSTANTS = {"C18N_LANGUAGES": [{"closest_languages": ["ruby", "java", "cpp", "javascript", "php", "csharp", "objectivec", "c", "swift"], "prism": "python", "ace": "python", "short_name": "python", "editor_template": "def my_function(arg):\n    # write the body of your function here\n    return 'running with %s' % arg\n\n# run your function through some test cases here\n# remember: debugging is half the battle!\nprint my_function('test input')\n", "codewars": "python", "display_name": "Python", "display_name_without_beta": "Python", "case_convention": "snake"}, {"closest_languages": ["python", "java", "cpp", "javascript", "php", "csharp", "objectivec", "c", "swift"], "prism": "ruby", "ace": "ruby", "short_name": "ruby", "editor_template": "def my_function(arg)\n    # write the body of your function here\n    return \"running with #{arg}\"\nend\n\n# run your function through some test cases here\n# remember: debugging is half the battle!\nputs my_function('test input')\n", "codewars": "ruby", "display_name": "Ruby", "display_name_without_beta": "Ruby", "case_convention": "snake"}, {"closest_languages": ["csharp", "javascript", "cpp", "c", "swift", "objectivec", "php", "ruby", "python"], "prism": "java", "ace": "java", "short_name": "java", "editor_template": "public class Solution {\n    public static String myFunction(String arg) {\n        // write the body of your function here\n        return \"running with \" + arg;\n    }\n    public static void main(String[] args) {\n        // run your function through some test cases here\n        // remember: debugging is half the battle!\n        String testInput = \"test input\";\n        System.out.println(myFunction(testInput));\n    }\n}", "codewars": "java", "display_name": "Java", "display_name_without_beta": "Java", "case_convention": "camel"}, {"closest_languages": ["java", "csharp", "swift", "php", "cpp", "c", "objectivec", "ruby", "python"], "prism": "javascript", "ace": "javascript", "short_name": "javascript", "editor_template": "function myFunction(arg) {\n    // write the body of your function here\n    return 'running with ' + arg;\n}\n\n// run your function through some test cases here\n// remember: debugging is half the battle!\nconsole.log(myFunction('test input'));\n", "codewars": "javascript", "display_name": "JavaScript", "display_name_without_beta": "JavaScript", "case_convention": "camel"}, {"closest_languages": ["cpp", "csharp", "java", "objectivec", "python", "php", "javascript", "ruby", "swift"], "prism": "c", "ace": "c_cpp", "short_name": "c", "editor_template": "#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n\nint myFunction(char *arg)\n{\n    // write the body of your function here\n    printf(\"running with %s\\n\", arg); \n    return 0;\n}\n\nint main()\n{\n    // run your function through some test cases here\n    // remember: debugging is half the battle!\n    myFunction(\"test input\");\n    return 0;\n}", "codewars": "c", "display_name": "C", "display_name_without_beta": "C", "case_convention": "camel"}, {"closest_languages": ["c", "csharp", "java", "objectivec", "python", "php", "javascript", "ruby", "swift"], "prism": "cpp", "ace": "c_cpp", "short_name": "cpp", "editor_template": "#include <iostream>\nusing namespace std;\n\nstring myFunction (const string& arg)\n{\n    // write the body of your function here\n    return \"running with \" + arg;\n}\n\nint main ()\n{\n    // run your function through some test cases here\n    // remember: debugging is half the battle!\n    cout << myFunction (\"test input\");\n    return 0;\n}", "codewars": "cpp", "display_name": "C++", "display_name_without_beta": "C++", "case_convention": "camel"}, {"closest_languages": ["java", "javascript", "cpp", "c", "php", "swift", "objectivec", "ruby", "python"], "prism": "csharp", "ace": "csharp", "short_name": "csharp", "editor_template": "using System;\n\nnamespace Solution\n{\n    class Solution\n    {\n        public static string MyFunction(string arg)\n        {\n            // Write the body of your function here\n            return $\"Running with {arg}\";\n        }\n\n        public static void Main(string[] args)\n        {\n            // Run your function through some test cases here.\n            // Remember: debugging is half the battle!\n            string testInput = \"test input\";\n            Console.WriteLine(MyFunction(testInput));\n        }\n    }\n}\n", "codewars": "csharp", "display_name": "C#", "display_name_without_beta": "C#", "case_convention": "camel"}, {"closest_languages": ["javascript", "java", "csharp", "c", "cpp", "objectivec", "swift", "ruby", "python"], "prism": "php", "ace": "php", "short_name": "php", "editor_template": "function myFunction($arg) {\n    // write the body of your function here\n    return \"running with \" . $arg;\n}\n\n// run your function through some test cases here\n// remember: debugging is half the battle!\necho myFunction(\"test input\");\n", "codewars": "php", "display_name": "PHP", "display_name_without_beta": "PHP", "case_convention": "camel"}, {"closest_languages": ["java", "javascript", "csharp", "cpp", "php", "objectivec", "python", "c", "ruby"], "prism": "swift", "ace": "swift", "short_name": "swift", "editor_template": "import Foundation\n\npublic func myFunction(_ arg: String) -> String {\n    // write the body of your function here\n    return \"running with \\(arg)\"\n}\n\n// run your function through some test cases here\n// remember: debugging is half the battle!\nlet testInput = \"test input\"\nprint(myFunction(testInput))\n", "codewars": "swift", "display_name": "Swift", "display_name_without_beta": "Swift", "case_convention": "camel"}, {"closest_languages": ["c", "cpp", "java", "javascript", "csharp", "swift", "python", "ruby", "php"], "prism": "objectivec", "codewars_version": "objc-arc", "ace": "objectivec", "short_name": "objectivec", "editor_template": "// Code run in our editor is compiled with GNUStep\n\n#import <Foundation/Foundation.h>\n#import <stdio.h>\n\n@interface Solution : NSObject\n+ (NSString *)myFunction:(NSString *)arg;\n@end\n\n@implementation Solution\n\n+ (NSString *)myFunction:(NSString *)arg\n{\n    // write the body of your function here\n    return [@\"running with \" stringByAppendingString:arg];\n}\n\n@end\n\nint main (int argc, const char * argv[]) {\n    @autoreleasepool {\n        // run your function through some test cases here\n        // remember: debugging is half the battle!\n        NSString * result = [Solution myFunction:@\"test input\"];\n        printf(\"%s\", [result UTF8String]);\n    }\n}", "codewars": "objc", "display_name": "Objective-C", "display_name_without_beta": "Objective-C", "case_convention": "camel"}], "INTEGRATIONS_SETTING_ONLY_INTEGRATIONS_THAT_SUPPORT_FRONT_END_ONLY": {"Optimizely": true, "Twitter Ads": true, "Google Analytics": true, "All": false, "Adwords": true, "Facebook Pixel": true}, "next_step_type_enum": {"question": "_NEXT_STEP_TYPE_QUESTION_", "done": "_NEXT_STEP_TYPE_DONE_", "purchase": "_NEXT_STEP_TYPE_PURCHASE_", "login": "_NEXT_STEP_TYPE_LOGIN_"}, "PRISM_LANGUAGES": [{"prism": "none", "ace": "plain_text", "short_name": "nolanguage", "display_name": "Plain text", "display_name_without_beta": "Plain text", "dropdown_bottom": true}, {"display_name": "HTML", "short_name": "html", "display_name_without_beta": "HTML", "prism": "markup"}, {"display_name": "SQL", "short_name": "sql", "display_name_without_beta": "SQL", "prism": "sql"}, {"closest_languages": ["ruby", "java", "cpp", "javascript", "php", "csharp", "objectivec", "c", "swift"], "prism": "python", "ace": "python", "short_name": "python", "editor_template": "def my_function(arg):\n    # write the body of your function here\n    return 'running with %s' % arg\n\n# run your function through some test cases here\n# remember: debugging is half the battle!\nprint my_function('test input')\n", "codewars": "python", "display_name": "Python", "display_name_without_beta": "Python", "case_convention": "snake"}, {"closest_languages": ["python", "java", "cpp", "javascript", "php", "csharp", "objectivec", "c", "swift"], "prism": "ruby", "ace": "ruby", "short_name": "ruby", "editor_template": "def my_function(arg)\n    # write the body of your function here\n    return \"running with #{arg}\"\nend\n\n# run your function through some test cases here\n# remember: debugging is half the battle!\nputs my_function('test input')\n", "codewars": "ruby", "display_name": "Ruby", "display_name_without_beta": "Ruby", "case_convention": "snake"}, {"closest_languages": ["csharp", "javascript", "cpp", "c", "swift", "objectivec", "php", "ruby", "python"], "prism": "java", "ace": "java", "short_name": "java", "editor_template": "public class Solution {\n    public static String myFunction(String arg) {\n        // write the body of your function here\n        return \"running with \" + arg;\n    }\n    public static void main(String[] args) {\n        // run your function through some test cases here\n        // remember: debugging is half the battle!\n        String testInput = \"test input\";\n        System.out.println(myFunction(testInput));\n    }\n}", "codewars": "java", "display_name": "Java", "display_name_without_beta": "Java", "case_convention": "camel"}, {"closest_languages": ["java", "csharp", "swift", "php", "cpp", "c", "objectivec", "ruby", "python"], "prism": "javascript", "ace": "javascript", "short_name": "javascript", "editor_template": "function myFunction(arg) {\n    // write the body of your function here\n    return 'running with ' + arg;\n}\n\n// run your function through some test cases here\n// remember: debugging is half the battle!\nconsole.log(myFunction('test input'));\n", "codewars": "javascript", "display_name": "JavaScript", "display_name_without_beta": "JavaScript", "case_convention": "camel"}, {"closest_languages": ["cpp", "csharp", "java", "objectivec", "python", "php", "javascript", "ruby", "swift"], "prism": "c", "ace": "c_cpp", "short_name": "c", "editor_template": "#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n\nint myFunction(char *arg)\n{\n    // write the body of your function here\n    printf(\"running with %s\\n\", arg); \n    return 0;\n}\n\nint main()\n{\n    // run your function through some test cases here\n    // remember: debugging is half the battle!\n    myFunction(\"test input\");\n    return 0;\n}", "codewars": "c", "display_name": "C", "display_name_without_beta": "C", "case_convention": "camel"}, {"closest_languages": ["c", "csharp", "java", "objectivec", "python", "php", "javascript", "ruby", "swift"], "prism": "cpp", "ace": "c_cpp", "short_name": "cpp", "editor_template": "#include <iostream>\nusing namespace std;\n\nstring myFunction (const string& arg)\n{\n    // write the body of your function here\n    return \"running with \" + arg;\n}\n\nint main ()\n{\n    // run your function through some test cases here\n    // remember: debugging is half the battle!\n    cout << myFunction (\"test input\");\n    return 0;\n}", "codewars": "cpp", "display_name": "C++", "display_name_without_beta": "C++", "case_convention": "camel"}, {"closest_languages": ["java", "javascript", "cpp", "c", "php", "swift", "objectivec", "ruby", "python"], "prism": "csharp", "ace": "csharp", "short_name": "csharp", "editor_template": "using System;\n\nnamespace Solution\n{\n    class Solution\n    {\n        public static string MyFunction(string arg)\n        {\n            // Write the body of your function here\n            return $\"Running with {arg}\";\n        }\n\n        public static void Main(string[] args)\n        {\n            // Run your function through some test cases here.\n            // Remember: debugging is half the battle!\n            string testInput = \"test input\";\n            Console.WriteLine(MyFunction(testInput));\n        }\n    }\n}\n", "codewars": "csharp", "display_name": "C#", "display_name_without_beta": "C#", "case_convention": "camel"}, {"closest_languages": ["javascript", "java", "csharp", "c", "cpp", "objectivec", "swift", "ruby", "python"], "prism": "php", "ace": "php", "short_name": "php", "editor_template": "function myFunction($arg) {\n    // write the body of your function here\n    return \"running with \" . $arg;\n}\n\n// run your function through some test cases here\n// remember: debugging is half the battle!\necho myFunction(\"test input\");\n", "codewars": "php", "display_name": "PHP", "display_name_without_beta": "PHP", "case_convention": "camel"}, {"closest_languages": ["java", "javascript", "csharp", "cpp", "php", "objectivec", "python", "c", "ruby"], "prism": "swift", "ace": "swift", "short_name": "swift", "editor_template": "import Foundation\n\npublic func myFunction(_ arg: String) -> String {\n    // write the body of your function here\n    return \"running with \\(arg)\"\n}\n\n// run your function through some test cases here\n// remember: debugging is half the battle!\nlet testInput = \"test input\"\nprint(myFunction(testInput))\n", "codewars": "swift", "display_name": "Swift", "display_name_without_beta": "Swift", "case_convention": "camel"}, {"closest_languages": ["c", "cpp", "java", "javascript", "csharp", "swift", "python", "ruby", "php"], "prism": "objectivec", "codewars_version": "objc-arc", "ace": "objectivec", "short_name": "objectivec", "editor_template": "// Code run in our editor is compiled with GNUStep\n\n#import <Foundation/Foundation.h>\n#import <stdio.h>\n\n@interface Solution : NSObject\n+ (NSString *)myFunction:(NSString *)arg;\n@end\n\n@implementation Solution\n\n+ (NSString *)myFunction:(NSString *)arg\n{\n    // write the body of your function here\n    return [@\"running with \" stringByAppendingString:arg];\n}\n\n@end\n\nint main (int argc, const char * argv[]) {\n    @autoreleasepool {\n        // run your function through some test cases here\n        // remember: debugging is half the battle!\n        NSString * result = [Solution myFunction:@\"test input\"];\n        printf(\"%s\", [result UTF8String]);\n    }\n}", "codewars": "objc", "display_name": "Objective-C", "display_name_without_beta": "Objective-C", "case_convention": "camel"}], "ACE_LANGUAGES": [{"ace": "haskell", "short_name": "haskell", "editor_template": "myFunction :: String -> String\n-- write the body of your function here\nmyFunction arg = \"running with \" ++ arg\n\nmain = do\n  -- run your function through some test cases here\n  -- remember: debugging is half the battle!\n  let result = myFunction \"test input\"\n  putStrLn result\n", "codewars": "haskell", "display_name": "Haskell", "display_name_without_beta": "Haskell"}, {"ace": "golang", "short_name": "go", "editor_template": "package main\n\nimport \"fmt\"\n\nfunc myFunction(arg string) string {\n    return \"running with \" + arg\n}\n\nfunc main() {\n    fmt.Println(myFunction(\"test input\"))\n}\n", "codewars": "go", "display_name": "Go", "display_name_without_beta": "Go"}, {"prism": "none", "ace": "plain_text", "short_name": "nolanguage", "display_name": "Plain text", "display_name_without_beta": "Plain text", "dropdown_bottom": true}, {"closest_languages": ["ruby", "java", "cpp", "javascript", "php", "csharp", "objectivec", "c", "swift"], "prism": "python", "ace": "python", "short_name": "python", "editor_template": "def my_function(arg):\n    # write the body of your function here\n    return 'running with %s' % arg\n\n# run your function through some test cases here\n# remember: debugging is half the battle!\nprint my_function('test input')\n", "codewars": "python", "display_name": "Python", "display_name_without_beta": "Python", "case_convention": "snake"}, {"closest_languages": ["python", "java", "cpp", "javascript", "php", "csharp", "objectivec", "c", "swift"], "prism": "ruby", "ace": "ruby", "short_name": "ruby", "editor_template": "def my_function(arg)\n    # write the body of your function here\n    return \"running with #{arg}\"\nend\n\n# run your function through some test cases here\n# remember: debugging is half the battle!\nputs my_function('test input')\n", "codewars": "ruby", "display_name": "Ruby", "display_name_without_beta": "Ruby", "case_convention": "snake"}, {"closest_languages": ["csharp", "javascript", "cpp", "c", "swift", "objectivec", "php", "ruby", "python"], "prism": "java", "ace": "java", "short_name": "java", "editor_template": "public class Solution {\n    public static String myFunction(String arg) {\n        // write the body of your function here\n        return \"running with \" + arg;\n    }\n    public static void main(String[] args) {\n        // run your function through some test cases here\n        // remember: debugging is half the battle!\n        String testInput = \"test input\";\n        System.out.println(myFunction(testInput));\n    }\n}", "codewars": "java", "display_name": "Java", "display_name_without_beta": "Java", "case_convention": "camel"}, {"closest_languages": ["java", "csharp", "swift", "php", "cpp", "c", "objectivec", "ruby", "python"], "prism": "javascript", "ace": "javascript", "short_name": "javascript", "editor_template": "function myFunction(arg) {\n    // write the body of your function here\n    return 'running with ' + arg;\n}\n\n// run your function through some test cases here\n// remember: debugging is half the battle!\nconsole.log(myFunction('test input'));\n", "codewars": "javascript", "display_name": "JavaScript", "display_name_without_beta": "JavaScript", "case_convention": "camel"}, {"closest_languages": ["cpp", "csharp", "java", "objectivec", "python", "php", "javascript", "ruby", "swift"], "prism": "c", "ace": "c_cpp", "short_name": "c", "editor_template": "#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n\nint myFunction(char *arg)\n{\n    // write the body of your function here\n    printf(\"running with %s\\n\", arg); \n    return 0;\n}\n\nint main()\n{\n    // run your function through some test cases here\n    // remember: debugging is half the battle!\n    myFunction(\"test input\");\n    return 0;\n}", "codewars": "c", "display_name": "C", "display_name_without_beta": "C", "case_convention": "camel"}, {"closest_languages": ["c", "csharp", "java", "objectivec", "python", "php", "javascript", "ruby", "swift"], "prism": "cpp", "ace": "c_cpp", "short_name": "cpp", "editor_template": "#include <iostream>\nusing namespace std;\n\nstring myFunction (const string& arg)\n{\n    // write the body of your function here\n    return \"running with \" + arg;\n}\n\nint main ()\n{\n    // run your function through some test cases here\n    // remember: debugging is half the battle!\n    cout << myFunction (\"test input\");\n    return 0;\n}", "codewars": "cpp", "display_name": "C++", "display_name_without_beta": "C++", "case_convention": "camel"}, {"closest_languages": ["java", "javascript", "cpp", "c", "php", "swift", "objectivec", "ruby", "python"], "prism": "csharp", "ace": "csharp", "short_name": "csharp", "editor_template": "using System;\n\nnamespace Solution\n{\n    class Solution\n    {\n        public static string MyFunction(string arg)\n        {\n            // Write the body of your function here\n            return $\"Running with {arg}\";\n        }\n\n        public static void Main(string[] args)\n        {\n            // Run your function through some test cases here.\n            // Remember: debugging is half the battle!\n            string testInput = \"test input\";\n            Console.WriteLine(MyFunction(testInput));\n        }\n    }\n}\n", "codewars": "csharp", "display_name": "C#", "display_name_without_beta": "C#", "case_convention": "camel"}, {"closest_languages": ["javascript", "java", "csharp", "c", "cpp", "objectivec", "swift", "ruby", "python"], "prism": "php", "ace": "php", "short_name": "php", "editor_template": "function myFunction($arg) {\n    // write the body of your function here\n    return \"running with \" . $arg;\n}\n\n// run your function through some test cases here\n// remember: debugging is half the battle!\necho myFunction(\"test input\");\n", "codewars": "php", "display_name": "PHP", "display_name_without_beta": "PHP", "case_convention": "camel"}, {"closest_languages": ["java", "javascript", "csharp", "cpp", "php", "objectivec", "python", "c", "ruby"], "prism": "swift", "ace": "swift", "short_name": "swift", "editor_template": "import Foundation\n\npublic func myFunction(_ arg: String) -> String {\n    // write the body of your function here\n    return \"running with \\(arg)\"\n}\n\n// run your function through some test cases here\n// remember: debugging is half the battle!\nlet testInput = \"test input\"\nprint(myFunction(testInput))\n", "codewars": "swift", "display_name": "Swift", "display_name_without_beta": "Swift", "case_convention": "camel"}, {"closest_languages": ["c", "cpp", "java", "javascript", "csharp", "swift", "python", "ruby", "php"], "prism": "objectivec", "codewars_version": "objc-arc", "ace": "objectivec", "short_name": "objectivec", "editor_template": "// Code run in our editor is compiled with GNUStep\n\n#import <Foundation/Foundation.h>\n#import <stdio.h>\n\n@interface Solution : NSObject\n+ (NSString *)myFunction:(NSString *)arg;\n@end\n\n@implementation Solution\n\n+ (NSString *)myFunction:(NSString *)arg\n{\n    // write the body of your function here\n    return [@\"running with \" stringByAppendingString:arg];\n}\n\n@end\n\nint main (int argc, const char * argv[]) {\n    @autoreleasepool {\n        // run your function through some test cases here\n        // remember: debugging is half the battle!\n        NSString * result = [Solution myFunction:@\"test input\"];\n        printf(\"%s\", [result UTF8String]);\n    }\n}", "codewars": "objc", "display_name": "Objective-C", "display_name_without_beta": "Objective-C", "case_convention": "camel"}], "DEFAULT_C18N_LANGUAGE": {"closest_languages": ["ruby", "java", "cpp", "javascript", "php", "csharp", "objectivec", "c", "swift"], "prism": "python", "ace": "python", "short_name": "python", "editor_template": "def my_function(arg):\n    # write the body of your function here\n    return 'running with %s' % arg\n\n# run your function through some test cases here\n# remember: debugging is half the battle!\nprint my_function('test input')\n", "codewars": "python", "display_name": "Python", "display_name_without_beta": "Python", "case_convention": "snake"}, "CACHEBUST_QUERY_STR": "?bust=164"};

        
        window.JS_VARS = {"url_content_type": "question", "ace_slug": "url-shortener", "questions_fully_attempted": ["largest-stack", "find-in-ordered-set", "queue-two-stacks", "which-appears-twice", "find-rotation-point", "matching-parens", "reverse-string-in-place", "balanced-binary-tree", "compress-url-list", "js-scope", "bst-checker", "coin", "js-whats-wrong", "bracket-validator", "permutation-palindrome", "temperature-tracker", "inflight-entertainment", "recursive-string-permutations", "shuffle", "highest-product-of-3", "top-scores", "simulate-5-sided-die", "reverse-linked-list", "linked-list-cycles", "merging-ranges", "second-largest-item-in-bst", "find-duplicate-optimize-for-space", "rectangular-love", "word-cloud", "two-egg-problem", "simulate-7-sided-die", "nth-fibonacci", "product-of-other-numbers", "find-unique-int-among-duplicates", "cake-thief", "delete-node", "kth-to-last-node-in-singly-linked-list", "reverse-words", "merge-sorted-arrays", "find-duplicate-files", "single-riffle-check"]};
        

        
    </script>

    

    
        <script type="text/javascript" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/saved_resource(2)"></script>
        <script type="text/javascript">
            Stripe.setPublishableKey('pk_live_4wtgGTkgBtk4YIB9JDjYdOD0');
        </script>
    

    

    
        <div id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div><iframe name="fb_xdm_frame_https" frameborder="0" allowtransparency="true" allowfullscreen="true" scrolling="no" id="fb_xdm_frame_https" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tabindex="-1" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/lY4eZXm_YWu.html" style="border: none;"></iframe></div></div><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div></div></div></div>
        <script>(function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=149278655279066";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));</script>
        <script id="twitter-wjs" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/widgets.js"></script>
    

    
    
        
            <script type="text/ng-template" id="/partials/animation.html"><div class="animation-wrapper">
    <div class="animation" id="Stage-[--[getCompId()]--]" ng-class="getCompId()">
    </div>
</div>
</script>
        
    
        
            <script type="text/ng-template" id="/partials/animation_iframe.html"><div class="animation-iframe-wrapper">
    <iframe class="animation-iframe" ng-class="'animation-iframe-'+getCompId()"></iframe>
</div>
</script>
        
    
        
            <script type="text/ng-template" id="/partials/code-inline.html"><span class="ic-code-inline" ng-transclude></span></script>
        
    
        
            <script type="text/ng-template" id="/partials/code-block.html"><pre class="language-[--[language]--]">
  <code class="language-[--[language]--]" ng-transclude></code>
</pre>
<span class="warning-message" ng-show="warningMessage" ng-bind="warningMessage"></span>
<div class="select-language-content" ng-hide="staticLanguage" ng-cloak>
<select ng-model="contentLanguage"
        ng-options="language.display_name for language in contentLanguages | orderBy: 'display_name'"
        ng-change="updateLanguage(contentLanguage)">
</select>
</div>
<span class="only-content-language" ng-show="staticLanguage" ng-bind="onlyLanguage"></span>
</script>
        
    
        
            <script type="text/ng-template" id="/partials/complexity.html"><span class="complexity"><span math>O([--[getComplexityMarkup()]--])</span></span>
</script>
        
    
        
            <script type="text/ng-template" id="/partials/concept.html"><span class="concept-wrapper" ng-init="showConcept=false">

    <span ng-click="showConcept=!showConcept" class="concept">
        <span class="concept-name" ng-transclude></span>
        <span class="show-concept-icon">&#8628;</span>
    </span>

    <div ng-show="showConcept" class="slide concept-explanation" ng-include="conceptPartialUrl">
        Loading...
    </div>

</span>
</script>
        
    
        
            <script type="text/ng-template" id="/partials/function.html"><span class="ic-function"><span class="name" ng-transclude></span><span ng-hide="noParens">()</span></span>
</script>
        
    
        
            <script type="text/ng-template" id="/partials/heading.html"><h3 class="heading slide" ng-show="shouldShow()" ng-cloak ng-bind="::getHeadingText()"></h3>
</script>
        
    
        
            <script type="text/ng-template" id="/partials/inline-footnote.html"><span class="footnote-wrapper" ng-init="show = false">
    <span class="show-footnote-icon" ng-click="show = !show">&#8628;</span>
    <p class="footnote" ng-transclude ng-show="show">Loading...</p>
</span>
</script>
        
    
        
            <script type="text/ng-template" id="/partials/loading.html"><div class="Loading">
    Loading...
</div>
</script>
        
    
        
            <script type="text/ng-template" id="/partials/math.html"><span class="ic-math" ng-class="{'block': isBlock()}" ng-transclude></span>
</script>
        
    
        
            <script type="text/ng-template" id="/partials/note.html"><div class="note slide" ng-show="shouldShow()">
    <div class="note-content" ng-transclude>
    </div>
</div>
</script>
        
    
        
            <script type="text/ng-template" id="/partials/section.html"><div class="section-wrapper" ng-class="getSectionClass()" ng-init="ready=false" ng-show="shouldShow()">
    <span heading="[--[section]--]" hide-heading="[--[hideHeading]--]"></span>

    <div class="section" ng-class="getSectionClass()" ng-transclude>
    </div>

    
</div>
</script>
        
    
        
            <script type="text/ng-template" id="/partials/variable.html"><span class="ic-variable" ng-transclude></span>
</script>
        
    
        
            <script type="text/ng-template" id="/partials/words.html"><span class="ic-words" ng-transclude></span>
</script>
        
    
        
            <script type="text/ng-template" id="/partials/sidebar-sticker.html"><div class="sidebar-sticker-container-container">
    <div class="sidebar-sticker-container" ng-hide="hide">
        <div class="sidebar-sticker" ng-style="{visibility: visibility}" sticky offset="100" hide-when-partially-offscreen ng-cloak blocks-news-drawer-when-visible id="left-side-sticker">
            <div class="sidebar-sticker-content">
	            <div ng-transclude>
	            </div>
	        </div>
	        <span class='close-button' ng-click="hide=true">&#215;</span>
        </div>
    </div>
</div></script>
        
    

    <!-- load current-user json with initial http request -->
    <div class="hidden" data-preload-resource="/api/v1/current-user/" data-thejson="{&quot;id&quot;:7272651,&quot;username&quot;:&quot;lara.harrow&quot;,&quot;email&quot;:&quot;lara.harrow@gmail.com&quot;,&quot;date_joined&quot;:&quot;2018-01-29T18:53:30.863677+00:00&quot;,&quot;first_name&quot;:&quot;Lara&quot;,&quot;last_name&quot;:&quot;Harrow&quot;,&quot;full_name&quot;:&quot;Lara Harrow&quot;,&quot;short_name&quot;:&quot;Lara&quot;,&quot;is_anonymous&quot;:false,&quot;is_on_last_question&quot;:false,&quot;percent_done&quot;:0,&quot;num_questions_done&quot;:0,&quot;num_questions_remaining&quot;:46,&quot;recruiting_is_interested_in_intros&quot;:null,&quot;is_full_access&quot;:true,&quot;first_payment_date&quot;:&quot;2018-02-01T16:10:22.494366Z&quot;,&quot;last_payment_date&quot;:&quot;2018-02-01T16:10:22.494366Z&quot;,&quot;num_free_questions_left&quot;:0,&quot;terms_has_agreed_to_latest&quot;:false,&quot;preferred_content_language&quot;:&quot;javascript&quot;,&quot;preferred_editor_language&quot;:&quot;&quot;,&quot;is_staff&quot;:false,&quot;auth_providers_human_readable_list&quot;:&quot;Google&quot;,&quot;num_auth_providers&quot;:1,&quot;auth_email&quot;:&quot;lara.harrow@gmail.com&quot;,&quot;profile_public_id&quot;:null}">
        {"id":7272651,"username":"lara.harrow","email":"lara.harrow@gmail.com","date_joined":"2018-01-29T18:53:30.863677+00:00","first_name":"Lara","last_name":"Harrow","full_name":"Lara Harrow","short_name":"Lara","is_anonymous":false,"is_on_last_question":false,"percent_done":0,"num_questions_done":0,"num_questions_remaining":46,"recruiting_is_interested_in_intros":null,"is_full_access":true,"first_payment_date":"2018-02-01T16:10:22.494366Z","last_payment_date":"2018-02-01T16:10:22.494366Z","num_free_questions_left":0,"terms_has_agreed_to_latest":false,"preferred_content_language":"javascript","preferred_editor_language":"","is_staff":false,"auth_providers_human_readable_list":"Google","num_auth_providers":1,"auth_email":"lara.harrow@gmail.com","profile_public_id":null}
    </div>

    

	

    
    <div ng-controller="LoginModalCtrl" class="modal fade login-modal ng-scope" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="Log In" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-body">
                    <h3 ng-bind="note" class="ng-binding">Log in to continue</h3>
                    <button type="button" ng-show="closeable" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <div class="login-btns">
    <a ng-href="/auth/login/github/?next=%2Fnext" class="btn btn-soc-github" href="https://www.interviewcake.com/auth/login/github/?next=%2Fnext"><i class="fa fa-github"></i> | Log in with GitHub</a>
    <a ng-href="/auth/login/google-oauth2/?next=%2Fnext" class="btn btn-soc-google-plus" href="https://www.interviewcake.com/auth/login/google-oauth2/?next=%2Fnext"><i class="fa my-fa-google-plus"></i> | Log in with Google</a>
    <a ng-href="/auth/login/facebook/?next=%2Fnext" class="btn btn-soc-facebook" href="https://www.interviewcake.com/auth/login/facebook/?next=%2Fnext"><i class="fa my-fa-facebook"></i> | Log in with Facebook</a>
</div>
<p class="login-reassurance">
    <small>
        We'll never post on your wall or message your friends.
    </small>
</p>

                </div>
            </div>
        </div>
    </div>

    

    <input type="hidden" name="csrfmiddlewaretoken" value="6LWOz1KgThwk3SWqZiDcAotkDJR5AQ6oIUbUCSryUnmwTBjl1yqZhmrpGuKXwKXc">
    <div id="loading">
    . . .
    </div>

<iframe name="stripeXDM_default578_provider" id="stripeXDM_default578_provider" aria-hidden="true" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/channel.html" frameborder="0" style="position: absolute; top: -2000px; left: 0px;"></iframe><iframe scrolling="no" frameborder="0" allowtransparency="true" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/widget_iframe.36c0c29c73929bf937f4c70adb1a29e4.html" style="display: none;"></iframe><iframe id="rufous-sandbox" scrolling="no" frameborder="0" allowtransparency="true" allowfullscreen="true" style="position: absolute; visibility: hidden; display: none; width: 0px; height: 0px; padding: 0px; border: none;" title="Twitter analytics iframe" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/saved_resource(3).html"></iframe><iframe data-olark="true" aria-hidden="true" style="width: 0px; height: 0px; position: absolute; left: 0px; bottom: 0px; border: none;" src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/saved_resource(4).html"></iframe><iframe src="./URL Shortener (Practice Interview Question) _ Interview Cake_files/outer.html" frameborder="0" allowtransparency="true" scrolling="no" tabindex="-1" aria-hidden="true" style="width: 1px !important; height: 1px !important; position: fixed !important; visibility: hidden !important; pointer-events: none !important;"></iframe><div data-olark="true" title="Olark Live Chat Widget" id="hbl-live-chat-wrapper"><div id="olark-wrapper" class="" data-reactid=".0"><div aria-live="assertive" aria-atomic="true" role="alert" id="chat-box-announcer" style="position:absolute;visibility:visible;overflow:hidden;display:block;width:1px;height:1px;margin:-1px;border:0px;padding:0px;clip:rect(0px, 0px, 0px, 0px);clip-path:polygon(0px 0px, 0px 0px, 0px 0px, 0px 0px);white-space:nowrap;" data-reactid=".0.0"><p data-reactid=".0.0.0"></p></div><style rel="stylesheet" type="text/css" data-reactid=".0.1">#olark-wrapper #olark-container .olark-button {
  background-color: #59a8c4 !important;
  color: #ffffff !important;
}
#olark-wrapper #olark-container .olark-button:hover {
  background-color: #469dbe !important;
}
#olark-wrapper #olark-container .olark-theme-bg {
  background-color: #59a8c4 !important;
}
#olark-wrapper #olark-container .olark-theme-text {
  color: #ffffff !important;
}
#olark-wrapper .olark-launch-button {
  background-color: #59a8c4 !important;
}
#olark-wrapper .olark-launch-button svg path {
  fill: #ffffff !important;
}
#olark-wrapper .olark-launch-button .olark-button-text {
  color: #ffffff !important;
}
#olark-wrapper .olark-top-bar {
  background-color: #59a8c4 !important;
  color: #ffffff !important;
  border-color: #469dbe !important;
}
#olark-wrapper .olark-top-bar-text {
  color: #ffffff !important;
}
#olark-wrapper .olark-top-bar-arrow {
  fill: #ffffff !important;
}
#olark-wrapper .olark-end-chat-button {
  color: #ffffff !important;
  background-color: rgba(61, 143, 174, 0.5) !important;
}
#olark-wrapper .olark-end-chat-button:hover {
  background-color: #3d8fae !important;
}
#olark-wrapper #olark-container .olark-visitor-message:not(.olark-message-trans-bg) {
  background-color: rgba(89, 168, 196, 0.25) !important;
}
#olark-wrapper #olark-container .olark-form-send-button {
  background-color: #59a8c4 !important;
  color: #ffffff !important;
}
#olark-wrapper #olark-container .olark-feedback-form-button {
  background-color: #59a8c4 !important;
  color: #ffffff !important;
}
#olark-wrapper #olark-container .olark-restart-button {
  background-color: #59a8c4 !important;
  color: #ffffff !important;
}
#olark-wrapper #olark-container .olark-branding-panel .olark-branding-cancel-button {
  background-color: #59a8c4 !important;
  border: none !important;
  color: #ffffff !important;
}
#olark-wrapper #olark-container .olark-branding-panel .olark-branding-go-button {
  border: none !important;
  background: rgba(89, 168, 196, 0.35) !important;
}
#olark-wrapper #olark-container .olark-send-transcript-container .olark-send-transcript-form.olark-inline-form-valid .olark-form-input-container {
  border-color: #59a8c4 !important;
}
#olark-wrapper #olark-container .olark-send-transcript-container .olark-send-transcript-form.olark-inline-form-valid .olark-send-icon {
  fill: #59a8c4 !important;
}
#olark-wrapper #olark-container .olark-visitor-message:not(.olark-message-has-border) {
  border: none !important;
}
#olark-wrapper .olark-end-chat-flag {
  fill: #59a8c4 !important;
}
#olark-wrapper #olark-container .olark-form-confirmation-icon .olark-launch-button-icon {
  fill: #59a8c4 !important;
}
#olark-wrapper #olark-container .olark-form-input:focus {
  border-color: #59a8c4 !important;
}
#olark-wrapper #olark-container .olark-form-message-input:focus {
  border-color: #59a8c4 !important;
}
</style><button class="olark-launch-button olark-bottom-left olark-size-md" tabindex="0" role="button" aria-hidden="false" data-reactid=".0.3"><svg x="0px" y="0px" viewBox="0 0 28 18" aria-label="small picture of an envelope signifying email" role="img" data-reactid=".0.3.0"><title data-reactid=".0.3.0.0">Envelope Icon</title><desc data-reactid=".0.3.0.1">small picture of an envelope signifying email</desc><path fill="#ffffff" d="M28,3.2C28,1.5,26.5,0,24.8,0H3.2C1.5,0,0,1.5,0,3.2v11.5C0,16.5,1.5,18,3.2,18h21.5c1.8,0,3.2-1.5,3.2-3.2 V3.2z M24.7,14.8c-0.2,0.1-0.4,0.2-0.6,0.2c-0.2,0-0.4-0.1-0.6-0.3l-5-5.3l-3.6,3c-0.3,0.2-0.6,0.3-0.9,0.3s-0.7-0.1-0.9-0.4l-3.6-3 l-5,5.3c-0.2,0.2-0.4,0.3-0.6,0.3c-0.2,0-0.4-0.1-0.6-0.2c-0.3-0.3-0.4-0.8,0-1.2l4.9-5.3L3.3,4.5C3,4.2,2.9,3.6,3.2,3.3 C3.5,2.9,4,2.9,4.4,3.2l9.6,7.9l9.6-7.9c0.4-0.3,0.9-0.2,1.2,0.1c0.3,0.4,0.2,0.9-0.1,1.2l-4.8,3.9l4.9,5.3 C25.1,14,25,14.5,24.7,14.8z" data-reactid=".0.3.0.2"></path></svg><div class="olark-notification-badge olark-hidden" data-reactid=".0.3.1"><div class="olark-notification-badge-text" data-reactid=".0.3.1.0">0</div></div><div class="olark-button-text olark-hidden" data-reactid=".0.3.2">Send me a message!</div></button><div id="olark-container" class="olark-hidden olark-bottom-left olark-no-branding olark-size-md" aria-hidden="true" role="complementary" data-reactid=".0.4"><div class="olark-top-bar" data-reactid=".0.4.0"><div class="olark-top-bar-text" data-reactid=".0.4.0.0">Send me a message!</div><div class="olark-top-bar-button" role="button" tabindex="-1" aria-hidden="true" aria-label="Minimize Chat" data-reactid=".0.4.0.1"><svg viewBox="0 0 15.1 8.9" fill="#ffffff" aria-label="a small down arrow to minimize chat box" role="img" data-reactid=".0.4.0.1.0"><title data-reactid=".0.4.0.1.0.0">Arrow Down</title><desc data-reactid=".0.4.0.1.0.1">a small down arrow to minimize chat box</desc><polygon class="olark-top-bar-arrow" points="0.2,1.4 7.6,8.9 15.1,1.4 13.7,0 7.6,6 1.6,0" data-reactid=".0.4.0.1.0.2"></polygon></svg></div></div><div class="olark-conversation-container olark-form-conversation-container olark-no-message-form olark-offline-message-container" id="olark-offline-form" data-reactid=".0.4.1"><div class="olark-form-message" data-reactid=".0.4.1.0">Parker from Interview Cake here. You can reach my email inbox through this handy form!</div><div class="olark-form-container" data-reactid=".0.4.1.1"><form class="olark-form" novalidate="" role="form" data-reactid=".0.4.1.1.0"><div class="olark-form-input-container" data-reactid=".0.4.1.1.0.0:$fname"><input type="text" name="fname" class="olark-form-input-filled olark-form-input" id="olark-form-input-fname" placeholder="" tabindex="-1" aria-hidden="true" aria-invalid="false" autocomplete="on" value="Lara Harrow" required="" aria-required="true" aria-label="click here and type your Name" data-reactid=".0.4.1.1.0.0:$fname.0"><label class="olark-float-label" for="olark-form-input-fname" data-reactid=".0.4.1.1.0.0:$fname.1">click here and type your Name</label><span class="olark-required-asterisk" data-reactid=".0.4.1.1.0.0:$fname.2"><svg viewBox="0 0 20 20" x="0" y="0" fill="currentcolor" aria-label="required asterisk signifies that this field can not be left blank" role="img" data-reactid=".0.4.1.1.0.0:$fname.2.0"><title data-reactid=".0.4.1.1.0.0:$fname.2.0.0">Required Asterisk</title><desc data-reactid=".0.4.1.1.0.0:$fname.2.0.1">signifies that this field can not be left blank</desc><path d="M10,0C4.5,0,0,4.5,0,10c0,5.5,4.5,10,10,10s10-4.5,10-10C20,4.5,15.5,0,10,0z M13.8,13.6L12,15l-2-3L8,15l-1.8-1.4l2-2.8 L5,9.6l0.8-2.2L9,8.6L8.8,5h2.4L11,8.6l3.2-1.3L15,9.6l-3.2,1.1L13.8,13.6z" data-reactid=".0.4.1.1.0.0:$fname.2.0.2"></path></svg></span></div><div class="olark-form-input-container" data-reactid=".0.4.1.1.0.0:$email"><input type="email" name="email" class="olark-form-input-filled olark-form-input" id="olark-form-input-email" placeholder="" tabindex="-1" aria-hidden="true" aria-invalid="false" autocomplete="on" value="lara.harrow@gmail.com" required="" aria-required="true" aria-label="click here and type your Email" data-reactid=".0.4.1.1.0.0:$email.0"><label class="olark-float-label" for="olark-form-input-email" data-reactid=".0.4.1.1.0.0:$email.1">click here and type your Email</label><span class="olark-required-asterisk" data-reactid=".0.4.1.1.0.0:$email.2"><svg viewBox="0 0 20 20" x="0" y="0" fill="currentcolor" aria-label="required asterisk signifies that this field can not be left blank" role="img" data-reactid=".0.4.1.1.0.0:$email.2.0"><title data-reactid=".0.4.1.1.0.0:$email.2.0.0">Required Asterisk</title><desc data-reactid=".0.4.1.1.0.0:$email.2.0.1">signifies that this field can not be left blank</desc><path d="M10,0C4.5,0,0,4.5,0,10c0,5.5,4.5,10,10,10s10-4.5,10-10C20,4.5,15.5,0,10,0z M13.8,13.6L12,15l-2-3L8,15l-1.8-1.4l2-2.8 L5,9.6l0.8-2.2L9,8.6L8.8,5h2.4L11,8.6l3.2-1.3L15,9.6l-3.2,1.1L13.8,13.6z" data-reactid=".0.4.1.1.0.0:$email.2.0.2"></path></svg></span></div><div class="olark-form-input-container" data-reactid=".0.4.1.1.0.0:$body"><div data-reactid=".0.4.1.1.0.0:$body.0"><div class="olark-form-message-input olark-clone-textarea" data-reactid=".0.4.1.1.0.0:$body.0.0" style="width: 330px !important; overflow-wrap: break-word;"></div><textarea class="olark-form-message-input" tabindex="-1" aria-hidden="true" aria-invalid="false" name="body" id="olark-form-input-body" placeholder="" title="" required="" aria-required="true" data-reactid=".0.4.1.1.0.0:$body.0.1"></textarea></div><span class="olark-required-asterisk" data-reactid=".0.4.1.1.0.0:$body.2"><svg viewBox="0 0 20 20" x="0" y="0" fill="currentcolor" aria-label="required asterisk signifies that this field can not be left blank" role="img" data-reactid=".0.4.1.1.0.0:$body.2.0"><title data-reactid=".0.4.1.1.0.0:$body.2.0.0">Required Asterisk</title><desc data-reactid=".0.4.1.1.0.0:$body.2.0.1">signifies that this field can not be left blank</desc><path d="M10,0C4.5,0,0,4.5,0,10c0,5.5,4.5,10,10,10s10-4.5,10-10C20,4.5,15.5,0,10,0z M13.8,13.6L12,15l-2-3L8,15l-1.8-1.4l2-2.8 L5,9.6l0.8-2.2L9,8.6L8.8,5h2.4L11,8.6l3.2-1.3L15,9.6l-3.2,1.1L13.8,13.6z" data-reactid=".0.4.1.1.0.0:$body.2.0.2"></path></svg></span></div><button class="olark-form-send-button" type="submit" aria-hidden="true" tabindex="-1" data-reactid=".0.4.1.1.0.2">Send</button></form></div></div><noscript data-reactid=".0.4.4"></noscript></div></div></div></body></html>